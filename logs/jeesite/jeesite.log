2017-05-26 14:38:27,980 [main] WARN  [net.sf.ehcache.store.disk.DiskStorageFactory] - The index for data file ..\temp\jeesite\ehcache\active%0053essions%0043ache.data is out of date, probably due to an unclean shutdown. Deleting index file ..\temp\jeesite\ehcache\active%0053essions%0043ache.index
2017-05-26 14:38:30,631 [main] WARN  [org.springframework.web.context.support.XmlWebApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'articleDao' defined in URL [jar:file:/D:/shuiqing/maven/com/thinkgem/jeesite/crm/1.2.7/crm-1.2.7.jar!/com/thinkgem/jeesite/modules/cms/dao/ArticleDao.class]: Cannot resolve reference to bean 'sqlSessionFactory' while setting bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in file [E:\github\jeesite_mybatis\jeesite\online\src\main\webapp\WEB-INF\classes\spring-context.xml]: Invocation of init method failed; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\github\jeesite_mybatis\jeesite\online\src\main\webapp\WEB-INF\classes\mappings\lvtraffic\vas\transfer\VasOrderRemarkMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto
2017-05-26 14:38:30,636 [main] DEBUG [com.thinkgem.jeesite.common.utils.SpringContextHolder] - 清除SpringContextHolder中的ApplicationContext:Root WebApplicationContext: startup date [Fri May 26 14:38:23 CST 2017]; root of context hierarchy
2017-05-26 14:38:30,702 [main] ERROR [org.springframework.web.context.ContextLoader] - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'articleDao' defined in URL [jar:file:/D:/shuiqing/maven/com/thinkgem/jeesite/crm/1.2.7/crm-1.2.7.jar!/com/thinkgem/jeesite/modules/cms/dao/ArticleDao.class]: Cannot resolve reference to bean 'sqlSessionFactory' while setting bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in file [E:\github\jeesite_mybatis\jeesite\online\src\main\webapp\WEB-INF\classes\spring-context.xml]: Invocation of init method failed; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\github\jeesite_mybatis\jeesite\online\src\main\webapp\WEB-INF\classes\mappings\lvtraffic\vas\transfer\VasOrderRemarkMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1475)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1220)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:736)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:762)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:434)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)
	at com.thinkgem.jeesite.modules.sys.listener.WebContextListener.initWebApplicationContext(WebContextListener.java:16)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4206)
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4705)
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
	at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
	at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
	at org.apache.catalina.startup.Embedded.start(Embedded.java:825)
	at org.apache.tomcat.maven.plugin.tomcat6.AbstractRunMojo.startContainer(AbstractRunMojo.java:997)
	at org.apache.tomcat.maven.plugin.tomcat6.AbstractRunMojo.execute(AbstractRunMojo.java:512)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:133)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in file [E:\github\jeesite_mybatis\jeesite\online\src\main\webapp\WEB-INF\classes\spring-context.xml]: Invocation of init method failed; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\github\jeesite_mybatis\jeesite\online\src\main\webapp\WEB-INF\classes\mappings\lvtraffic\vas\transfer\VasOrderRemarkMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1572)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)
	... 46 more
Caused by: org.springframework.core.NestedIOException: Failed to parse mapping resource: 'file [E:\github\jeesite_mybatis\jeesite\online\src\main\webapp\WEB-INF\classes\mappings\lvtraffic\vas\transfer\VasOrderRemarkMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:522)
	at org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1631)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1568)
	... 53 more
Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:145)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.parse(XMLMapperBuilder.java:103)
	at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:519)
	... 56 more
Caused by: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto
	at org.apache.ibatis.builder.BaseBuilder.resolveClass(BaseBuilder.java:103)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:313)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(XMLMapperBuilder.java:297)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(XMLMapperBuilder.java:289)
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:140)
	... 58 more
Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto
	at org.apache.ibatis.type.TypeAliasRegistry.resolveAlias(TypeAliasRegistry.java:117)
	at org.apache.ibatis.builder.BaseBuilder.resolveAlias(BaseBuilder.java:130)
	at org.apache.ibatis.builder.BaseBuilder.resolveClass(BaseBuilder.java:101)
	... 62 more
Caused by: java.lang.ClassNotFoundException: Cannot find class: com.lvmama.lvtraffic.vas.common.dto.transfer.VasOrderRemarkDto
	at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:190)
	at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:89)
	at org.apache.ibatis.io.Resources.classForName(Resources.java:256)
	at org.apache.ibatis.type.TypeAliasRegistry.resolveAlias(TypeAliasRegistry.java:113)
	... 64 more
2017-05-26 14:42:58,124 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.DictDao.findAllList] - ==>  Preparing: SELECT * FROM sys_dict WHERE del_flag = ? ORDER BY type, sort, update_date DESC 
2017-05-26 14:42:58,134 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.DictDao.findAllList] - ==> Parameters: 0(String)
2017-05-26 14:42:58,191 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.DictDao.findAllList] - <==      Total: 78
2017-05-26 14:43:00,336 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.security.SystemAuthorizingRealm] - login submit, active session size: 1, username: thinkgem
2017-05-26 14:43:00,339 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.UserDao.getByLoginName] - ==>  Preparing: SELECT a.id, a.company_id AS "company.id", a.office_id AS "office.id", a.login_name, a.password, a.no, a.name, a.email, a.phone, a.mobile, a.user_type, a.login_ip, a.login_date, a.remarks, a.login_flag, a.photo, a.create_by AS "createBy.id", a.create_date, a.update_by AS "updateBy.id", a.update_date, a.del_flag, c.name AS "company.name", c.parent_id AS "company.parent.id", c.parent_ids AS "company.parentIds", ca.id AS "company.area.id", ca.name AS "company.area.name", ca.parent_id AS "company.area.parent.id", ca.parent_ids AS "company.area.parentIds", o.name AS "office.name", o.parent_id AS "office.parent.id", o.parent_ids AS "office.parentIds", oa.id AS "office.area.id", oa.name AS "office.area.name", oa.parent_id AS "office.area.parent.id", oa.parent_ids AS "office.area.parentIds", cu.id AS "company.primaryPerson.id", cu.name AS "company.primaryPerson.name", cu2.id AS "company.deputyPerson.id", cu2.name AS "company.deputyPerson.name", ou.id AS "office.primaryPerson.id", ou.name AS "office.primaryPerson.name", ou2.id AS "office.deputyPerson.id", ou2.name AS "office.deputyPerson.name" FROM sys_user a LEFT JOIN sys_office c ON c.id = a.company_id LEFT JOIN sys_area ca ON ca.id = c.area_id LEFT JOIN sys_office o ON o.id = a.office_id LEFT JOIN sys_area oa ON oa.id = o.area_id LEFT JOIN sys_user cu ON cu.id = c.primary_person LEFT JOIN sys_user cu2 ON cu2.id = c.deputy_person LEFT JOIN sys_user ou ON ou.id = o.primary_person LEFT JOIN sys_user ou2 ON ou2.id = o.deputy_person WHERE a.login_name = ? AND a.del_flag = ? 
2017-05-26 14:43:00,339 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.UserDao.getByLoginName] - ==> Parameters: thinkgem(String), 0(String)
2017-05-26 14:43:00,405 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.UserDao.getByLoginName] - <==      Total: 1
2017-05-26 14:43:00,489 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.RoleDao.findList] - ==>  Preparing: SELECT a.id, a.office_id AS "office.id", a.name, a.enname, a.role_type AS roleType, a.data_scope AS dataScope, a.remarks, a.create_by AS "createBy.id", a.create_date, a.update_by AS "updateBy.id", a.update_date, a.del_flag, o.name AS "office.name", o.code, a.useable AS useable, a.is_sys AS sysData , ro.office_id AS "officeList.id" FROM sys_role a LEFT JOIN sys_office o ON o.id = a.office_id LEFT JOIN sys_user_role ur ON ur.role_id = a.id LEFT JOIN sys_user u ON u.id = ur.user_id LEFT JOIN sys_role_office ro ON ro.role_id = a.id WHERE a.del_flag = ? AND a.useable=? AND u.id = ? AND u.login_name = ? ORDER BY o.code, a.name 
2017-05-26 14:43:00,490 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.RoleDao.findList] - ==> Parameters: 0(String), 1(String), 1(String), thinkgem(String)
2017-05-26 14:43:00,539 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.RoleDao.findList] - <==      Total: 2
2017-05-26 14:43:00,619 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:43:00.619  URI: /online/a
2017-05-26 14:43:00,628 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.MenuDao.findAllList] - ==>  Preparing: SELECT a.id, a.parent_id AS "parent.id", a.parent_ids, a.name, a.href, a.target, a.icon, a.sort, a.is_show, a.permission, a.remarks, a.create_by AS "createBy.id", a.create_date, a.update_by AS "updateBy.id", a.update_date, a.del_flag, p.name AS "parent.name" FROM sys_menu a LEFT JOIN sys_menu p ON p.id = a.parent_id WHERE a.del_flag = ? ORDER BY a.sort 
2017-05-26 14:43:00,628 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.MenuDao.findAllList] - ==> Parameters: 0(String)
2017-05-26 14:43:00,693 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.MenuDao.findAllList] - <==      Total: 95
2017-05-26 14:43:00,695 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.UserDao.updateLoginInfo] - ==>  Preparing: UPDATE sys_user SET login_ip = ?, login_Date = ? WHERE id = ? 
2017-05-26 14:43:00,696 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.UserDao.updateLoginInfo] - ==> Parameters: 0:0:0:0:0:0:0:1(String), 2017-05-26 14:43:00.695(Timestamp), 1(String)
2017-05-26 14:43:00,726 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.UserDao.updateLoginInfo] - <==    Updates: 1
2017-05-26 14:43:00,828 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - ==>  Preparing: INSERT INTO sys_log( id, type, title, create_by, create_date, remote_addr, user_agent, request_uri, method, params, exception ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:43:00,831 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - ==> Parameters: 6ffa866fac3a48a5aba716cd93a9c5b8(String), 1(String), 系统登录(String), 1(String), 2017-05-26 14:43:00.827(Timestamp), 0:0:0:0:0:0:0:1(String), Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 BIDUBrowser/8.7 Safari/537.36(String), /online/a(String), GET(String), login=(String), (String)
2017-05-26 14:43:00,882 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/sys/sysIndex
2017-05-26 14:43:00,887 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - <==    Updates: 1
2017-05-26 14:43:01,164 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:43:01.163  耗时：0:0:0.544  URI: /online/a  最大内存: 754m  已分配内存: 754m  已分配内存中的剩余空间: 459m  最大可用内存: 459m
2017-05-26 14:43:01,165 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.MenuDao.findAllList] - ==>  Preparing: SELECT a.id, a.parent_id AS "parent.id", a.parent_ids, a.name, a.href, a.target, a.icon, a.sort, a.is_show, a.permission, a.remarks, a.create_by AS "createBy.id", a.create_date, a.update_by AS "updateBy.id", a.update_date, a.del_flag, p.name AS "parent.name" FROM sys_menu a LEFT JOIN sys_menu p ON p.id = a.parent_id WHERE a.del_flag = ? ORDER BY a.sort 
2017-05-26 14:43:01,165 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.MenuDao.findAllList] - ==> Parameters: 0(String)
2017-05-26 14:43:01,267 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.MenuDao.findAllList] - <==      Total: 95
2017-05-26 14:43:01,867 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:43:01.867  URI: /online/a/sys/user/info
2017-05-26 14:43:01,884 [http-8181-5] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/sys/userInfo
2017-05-26 14:43:02,562 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:43:02.562  耗时：0:0:0.695  URI: /online/a/sys/user/info  最大内存: 761m  已分配内存: 761m  已分配内存中的剩余空间: 458m  最大可用内存: 458m
2017-05-26 14:43:02,563 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - ==>  Preparing: INSERT INTO sys_log( id, type, title, create_by, create_date, remote_addr, user_agent, request_uri, method, params, exception ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:43:02,564 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - ==> Parameters: 94d272b13e824d82815bcbe4bc00c6ca(String), 1(String), 我的面板-个人信息-个人信息(String), 1(String), 2017-05-26 14:43:02.563(Timestamp), 0:0:0:0:0:0:0:1(String), Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 BIDUBrowser/8.7 Safari/537.36(String), /online/a/sys/user/info(String), GET(String), (String), (String)
2017-05-26 14:43:02,611 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - <==    Updates: 1
2017-05-26 14:43:03,271 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:43:03.271  URI: /online/a/gen/genTable
2017-05-26 14:43:03,304 [http-8181-5] DEBUG [com.thinkgem.jeesite.common.persistence.interceptor.PaginationInterceptor] - COUNT SQL: select count(1) from (SELECT         a.*      FROM gen_table a                WHERE a.del_flag = ?                          ) tmp_count
2017-05-26 14:43:03,321 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.del_flag = ? ORDER BY a.name ASC limit 30 
2017-05-26 14:43:03,321 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==> Parameters: 0(String)
2017-05-26 14:43:03,325 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - <==      Total: 12
2017-05-26 14:43:03,329 [http-8181-5] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genTableList
2017-05-26 14:43:03,632 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:43:03.632  耗时：0:0:0.361  URI: /online/a/gen/genTable  最大内存: 760m  已分配内存: 760m  已分配内存中的剩余空间: 517m  最大可用内存: 517m
2017-05-26 14:43:03,633 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - ==>  Preparing: INSERT INTO sys_log( id, type, title, create_by, create_date, remote_addr, user_agent, request_uri, method, params, exception ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:43:03,634 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - ==> Parameters: 33be35c85d1641a8af7e10644644fc18(String), 1(String), 代码生成-代码生成-业务表配置(String), 1(String), 2017-05-26 14:43:03.633(Timestamp), 0:0:0:0:0:0:0:1(String), Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 BIDUBrowser/8.7 Safari/537.36(String), /online/a/gen/genTable(String), GET(String), (String), (String)
2017-05-26 14:43:03,869 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - <==    Updates: 1
2017-05-26 14:43:08,640 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:43:08.639  URI: /online/a/gen/genTable/form
2017-05-26 14:43:08,650 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - ==>  Preparing: SELECT t.table_name AS name,t.TABLE_COMMENT AS comments FROM information_schema.`TABLES` t WHERE t.TABLE_SCHEMA = (select database()) ORDER BY t.TABLE_NAME 
2017-05-26 14:43:08,650 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - ==> Parameters: 
2017-05-26 14:43:08,733 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - <==      Total: 67
2017-05-26 14:43:08,884 [http-8181-5] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genTableForm
2017-05-26 14:43:09,189 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:43:09.189  耗时：0:0:0.550  URI: /online/a/gen/genTable/form  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 627m  最大可用内存: 627m
2017-05-26 14:43:55,383 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:43:55.382  URI: /online/a/gen/genTable/
2017-05-26 14:43:55,390 [http-8181-5] DEBUG [com.thinkgem.jeesite.common.persistence.interceptor.PaginationInterceptor] - COUNT SQL: select count(1) from (SELECT         a.*      FROM gen_table a                WHERE a.del_flag = ?                          ) tmp_count
2017-05-26 14:43:55,392 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.del_flag = ? ORDER BY a.name ASC limit 30 
2017-05-26 14:43:55,392 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==> Parameters: 0(String)
2017-05-26 14:43:55,400 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - <==      Total: 12
2017-05-26 14:43:55,405 [http-8181-5] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genTableList
2017-05-26 14:43:55,422 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:43:55.421  耗时：0:0:0.39  URI: /online/a/gen/genTable/  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 619m  最大可用内存: 619m
2017-05-26 14:43:56,128 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:43:56.128  URI: /online/a/gen/genTable/form
2017-05-26 14:43:56,134 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - ==>  Preparing: SELECT t.table_name AS name,t.TABLE_COMMENT AS comments FROM information_schema.`TABLES` t WHERE t.TABLE_SCHEMA = (select database()) ORDER BY t.TABLE_NAME 
2017-05-26 14:43:56,134 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - ==> Parameters: 
2017-05-26 14:43:56,142 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - <==      Total: 67
2017-05-26 14:43:56,152 [http-8181-5] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genTableForm
2017-05-26 14:43:56,166 [http-8181-5] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:43:56.166  耗时：0:0:0.38  URI: /online/a/gen/genTable/form  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 616m  最大可用内存: 616m
2017-05-26 14:44:03,402 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:44:03.402  URI: /online/a/gen/genTable/form
2017-05-26 14:44:03,408 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - ==>  Preparing: SELECT t.table_name AS name,t.TABLE_COMMENT AS comments FROM information_schema.`TABLES` t WHERE t.TABLE_SCHEMA = (select database()) ORDER BY t.TABLE_NAME 
2017-05-26 14:44:03,408 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - ==> Parameters: 
2017-05-26 14:44:03,414 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - <==      Total: 67
2017-05-26 14:44:03,417 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.del_flag = ? AND a.name = ? ORDER BY a.name ASC 
2017-05-26 14:44:03,417 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==> Parameters: 0(String), t_vas_transferorder_syn(String)
2017-05-26 14:44:03,433 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - <==      Total: 0
2017-05-26 14:44:03,436 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - ==>  Preparing: SELECT t.table_name AS name,t.TABLE_COMMENT AS comments FROM information_schema.`TABLES` t WHERE t.TABLE_SCHEMA = (select database()) AND t.TABLE_NAME = (?) ORDER BY t.TABLE_NAME 
2017-05-26 14:44:03,436 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - ==> Parameters: t_vas_transferorder_syn(String)
2017-05-26 14:44:03,438 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableList] - <==      Total: 1
2017-05-26 14:44:03,439 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableColumnList] - ==>  Preparing: SELECT t.COLUMN_NAME AS name, (CASE WHEN t.IS_NULLABLE = 'YES' THEN '1' ELSE '0' END) AS isNull, (t.ORDINAL_POSITION * 10) AS sort,t.COLUMN_COMMENT AS comments,t.COLUMN_TYPE AS jdbcType FROM information_schema.`COLUMNS` t WHERE t.TABLE_SCHEMA = (select database()) AND t.TABLE_NAME = (?) ORDER BY t.ORDINAL_POSITION 
2017-05-26 14:44:03,439 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableColumnList] - ==> Parameters: t_vas_transferorder_syn(String)
2017-05-26 14:44:03,445 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTableColumnList] - <==      Total: 8
2017-05-26 14:44:03,446 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTablePK] - ==>  Preparing: SELECT lower(au.COLUMN_NAME) AS columnName FROM information_schema.`COLUMNS` au WHERE au.TABLE_SCHEMA = (select database()) AND au.COLUMN_KEY='PRI' AND au.TABLE_NAME = (?) 
2017-05-26 14:44:03,446 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTablePK] - ==> Parameters: t_vas_transferorder_syn(String)
2017-05-26 14:44:03,450 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenDataBaseDictDao.findTablePK] - <==      Total: 1
2017-05-26 14:44:03,456 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genTableForm
2017-05-26 14:44:03,507 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:44:03.507  耗时：0:0:0.105  URI: /online/a/gen/genTable/form  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 603m  最大可用内存: 603m
2017-05-26 14:44:30,353 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:44:30.353  URI: /online/a/gen/genTable/save
2017-05-26 14:44:30,549 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.del_flag = ? AND a.name = ? ORDER BY a.name ASC 
2017-05-26 14:44:30,549 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==> Parameters: 0(String), t_vas_transferorder_syn(String)
2017-05-26 14:44:30,550 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - <==      Total: 0
2017-05-26 14:44:30,552 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.insert] - ==>  Preparing: INSERT INTO gen_table( id, name, comments, class_name, parent_table, parent_table_fk, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,553 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.insert] - ==> Parameters: 93090dc9a2b94b7c87e599bb74fcea0f(String), t_vas_transferorder_syn(String), 供应商订单状态同步表(String), VasTransferOrderSyn(String), (String), (String), 1(String), 2017-05-26 14:44:30.552(Timestamp), 1(String), 2017-05-26 14:44:30.552(Timestamp), (String), 0(String)
2017-05-26 14:44:30,554 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,554 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==>  Preparing: INSERT INTO gen_table_column( id, gen_table_id, name, comments, jdbc_type, java_type, java_field, is_pk, is_null, is_insert, is_edit, is_list, is_query, query_type, show_type, dict_type, sort, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,556 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==> Parameters: 3adc49784c274b8993efbfb007bd04a2(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), id(String), 流水号(String), int(16)(String), String(String), id(String), 1(String), 0(String), 1(String), 0(String), 0(String), 0(String), =(String), input(String), (String), 10(Integer), 1(String), 2017-05-26 14:44:30.554(Timestamp), 1(String), 2017-05-26 14:44:30.554(Timestamp), null, 0(String)
2017-05-26 14:44:30,559 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,559 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==>  Preparing: INSERT INTO gen_table_column( id, gen_table_id, name, comments, jdbc_type, java_type, java_field, is_pk, is_null, is_insert, is_edit, is_list, is_query, query_type, show_type, dict_type, sort, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,561 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==> Parameters: 9abd8e3a01b84b588e384619c58e7d7f(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), supp_code(String), 供应商code(String), varchar(20)(String), String(String), suppCode(String), 0(String), 1(String), 1(String), 1(String), 0(String), 0(String), =(String), input(String), (String), 20(Integer), 1(String), 2017-05-26 14:44:30.559(Timestamp), 1(String), 2017-05-26 14:44:30.559(Timestamp), null, 0(String)
2017-05-26 14:44:30,562 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,563 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==>  Preparing: INSERT INTO gen_table_column( id, gen_table_id, name, comments, jdbc_type, java_type, java_field, is_pk, is_null, is_insert, is_edit, is_list, is_query, query_type, show_type, dict_type, sort, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,564 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==> Parameters: d40a54b50fa441799fba4c4960f239f2(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), order_id(String), 供应商订单id(String), varchar(20)(String), String(String), orderId(String), 0(String), 1(String), 1(String), 1(String), 0(String), 0(String), =(String), input(String), (String), 30(Integer), 1(String), 2017-05-26 14:44:30.563(Timestamp), 1(String), 2017-05-26 14:44:30.563(Timestamp), null, 0(String)
2017-05-26 14:44:30,565 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,565 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==>  Preparing: INSERT INTO gen_table_column( id, gen_table_id, name, comments, jdbc_type, java_type, java_field, is_pk, is_null, is_insert, is_edit, is_list, is_query, query_type, show_type, dict_type, sort, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,566 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==> Parameters: f335f1638fb74a58881911a834614722(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), order_status(String), 状态(String), varchar(20)(String), String(String), orderStatus(String), 0(String), 1(String), 1(String), 1(String), 0(String), 0(String), =(String), input(String), (String), 40(Integer), 1(String), 2017-05-26 14:44:30.565(Timestamp), 1(String), 2017-05-26 14:44:30.565(Timestamp), null, 0(String)
2017-05-26 14:44:30,609 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,610 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==>  Preparing: INSERT INTO gen_table_column( id, gen_table_id, name, comments, jdbc_type, java_type, java_field, is_pk, is_null, is_insert, is_edit, is_list, is_query, query_type, show_type, dict_type, sort, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,616 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==> Parameters: 7927962da8e44f94a15777f328a93a24(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), console_status(String), 处理状态(String), varchar(1)(String), String(String), consoleStatus(String), 0(String), 1(String), 1(String), 1(String), 0(String), 0(String), =(String), input(String), (String), 50(Integer), 1(String), 2017-05-26 14:44:30.61(Timestamp), 1(String), 2017-05-26 14:44:30.61(Timestamp), null, 0(String)
2017-05-26 14:44:30,618 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,619 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==>  Preparing: INSERT INTO gen_table_column( id, gen_table_id, name, comments, jdbc_type, java_type, java_field, is_pk, is_null, is_insert, is_edit, is_list, is_query, query_type, show_type, dict_type, sort, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,624 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==> Parameters: e8d0bc566a244fd6ae6b490095f51f40(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), request_str(String), 请求json串(String), varchar(2000)(String), String(String), requestStr(String), 0(String), 1(String), 1(String), 1(String), 0(String), 0(String), =(String), input(String), (String), 60(Integer), 1(String), 2017-05-26 14:44:30.618(Timestamp), 1(String), 2017-05-26 14:44:30.618(Timestamp), null, 0(String)
2017-05-26 14:44:30,627 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,628 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==>  Preparing: INSERT INTO gen_table_column( id, gen_table_id, name, comments, jdbc_type, java_type, java_field, is_pk, is_null, is_insert, is_edit, is_list, is_query, query_type, show_type, dict_type, sort, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,631 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==> Parameters: 316c8127e6db4dad801cbaf94f81125d(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), request_time(String), 请求时间(String), timestamp(String), java.util.Date(String), requestTime(String), 0(String), 1(String), 1(String), 1(String), 0(String), 0(String), =(String), dateselect(String), (String), 70(Integer), 1(String), 2017-05-26 14:44:30.627(Timestamp), 1(String), 2017-05-26 14:44:30.627(Timestamp), null, 0(String)
2017-05-26 14:44:30,632 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,633 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==>  Preparing: INSERT INTO gen_table_column( id, gen_table_id, name, comments, jdbc_type, java_type, java_field, is_pk, is_null, is_insert, is_edit, is_list, is_query, query_type, show_type, dict_type, sort, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:30,636 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - ==> Parameters: ea09c2a930ff463e9bc233559b1dfa10(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), console_time(String), console_time(String), timestamp(String), java.util.Date(String), consoleTime(String), 0(String), 1(String), 1(String), 1(String), 0(String), 0(String), =(String), dateselect(String), (String), 80(Integer), 1(String), 2017-05-26 14:44:30.633(Timestamp), 1(String), 2017-05-26 14:44:30.633(Timestamp), null, 0(String)
2017-05-26 14:44:30,637 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.insert] - <==    Updates: 1
2017-05-26 14:44:30,666 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: redirect:/a/gen/genTable/?repage
2017-05-26 14:44:30,729 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:44:30.729  耗时：0:0:0.376  URI: /online/a/gen/genTable/save  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 578m  最大可用内存: 578m
2017-05-26 14:44:30,741 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:44:30.741  URI: /online/a/gen/genTable/
2017-05-26 14:44:30,746 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.persistence.interceptor.PaginationInterceptor] - COUNT SQL: select count(1) from (SELECT         a.*      FROM gen_table a                WHERE a.del_flag = ?                          ) tmp_count
2017-05-26 14:44:30,747 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.del_flag = ? ORDER BY a.name ASC limit 30 
2017-05-26 14:44:30,747 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - ==> Parameters: 0(String)
2017-05-26 14:44:30,752 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findList] - <==      Total: 13
2017-05-26 14:44:30,755 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genTableList
2017-05-26 14:44:30,767 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:44:30.767  耗时：0:0:0.26  URI: /online/a/gen/genTable/  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 572m  最大可用内存: 572m
2017-05-26 14:44:33,039 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:44:33.039  URI: /online/a/gen/genScheme
2017-05-26 14:44:33,062 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.persistence.interceptor.PaginationInterceptor] - COUNT SQL: select count(1) from (SELECT         a.*,   a.gen_table_id AS "genTable.id"      FROM gen_scheme a                WHERE a.del_flag = ?        ) tmp_count
2017-05-26 14:44:33,110 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - ==>  Preparing: SELECT a.*, a.gen_table_id AS "genTable.id" FROM gen_scheme a WHERE a.del_flag = ? ORDER BY a.update_date DESC limit 30 
2017-05-26 14:44:33,111 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - ==> Parameters: 0(String)
2017-05-26 14:44:33,116 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - <==      Total: 11
2017-05-26 14:44:33,119 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genSchemeList
2017-05-26 14:44:33,321 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:44:33.321  耗时：0:0:0.282  URI: /online/a/gen/genScheme  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 523m  最大可用内存: 523m
2017-05-26 14:44:33,322 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - ==>  Preparing: INSERT INTO sys_log( id, type, title, create_by, create_date, remote_addr, user_agent, request_uri, method, params, exception ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:44:33,323 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - ==> Parameters: 261bc0500da64e9289bcb12e2604b089(String), 1(String), 代码生成-代码生成-生成方案配置(String), 1(String), 2017-05-26 14:44:33.321(Timestamp), 0:0:0:0:0:0:0:1(String), Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 BIDUBrowser/8.7 Safari/537.36(String), /online/a/gen/genScheme(String), GET(String), (String), (String)
2017-05-26 14:44:33,489 [SaveLogThread] DEBUG [com.thinkgem.jeesite.modules.sys.dao.LogDao.insert] - <==    Updates: 1
2017-05-26 14:44:37,688 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:44:37.688  URI: /online/a/gen/genScheme/form
2017-05-26 14:44:37,694 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.get] - ==>  Preparing: SELECT a.*, a.gen_table_id AS "genTable.id" FROM gen_scheme a WHERE a.id = ? 
2017-05-26 14:44:37,694 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.get] - ==> Parameters: 75da0bd21dd5424bbd04632ee2a56a39(String)
2017-05-26 14:44:37,697 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.get] - <==      Total: 1
2017-05-26 14:44:37,708 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findAllList] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.del_flag = ? ORDER BY a.name ASC 
2017-05-26 14:44:37,708 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findAllList] - ==> Parameters: 0(String)
2017-05-26 14:44:37,712 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findAllList] - <==      Total: 13
2017-05-26 14:44:37,715 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genSchemeForm
2017-05-26 14:44:37,941 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:44:37.941  耗时：0:0:0.253  URI: /online/a/gen/genScheme/form  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 475m  最大可用内存: 475m
2017-05-26 14:44:56,008 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:44:56.008  URI: /online/a/gen/genScheme/
2017-05-26 14:44:56,015 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.persistence.interceptor.PaginationInterceptor] - COUNT SQL: select count(1) from (SELECT         a.*,   a.gen_table_id AS "genTable.id"      FROM gen_scheme a                WHERE a.del_flag = ?        ) tmp_count
2017-05-26 14:44:56,016 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - ==>  Preparing: SELECT a.*, a.gen_table_id AS "genTable.id" FROM gen_scheme a WHERE a.del_flag = ? ORDER BY a.update_date DESC limit 30 
2017-05-26 14:44:56,016 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - ==> Parameters: 0(String)
2017-05-26 14:44:56,026 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - <==      Total: 11
2017-05-26 14:44:56,031 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genSchemeList
2017-05-26 14:44:56,043 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:44:56.043  耗时：0:0:0.35  URI: /online/a/gen/genScheme/  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 467m  最大可用内存: 467m
2017-05-26 14:44:58,222 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:44:58.222  URI: /online/a/gen/genScheme/form
2017-05-26 14:44:58,235 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findAllList] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.del_flag = ? ORDER BY a.name ASC 
2017-05-26 14:44:58,235 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findAllList] - ==> Parameters: 0(String)
2017-05-26 14:44:58,241 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.findAllList] - <==      Total: 13
2017-05-26 14:44:58,245 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genSchemeForm
2017-05-26 14:44:58,254 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:44:58.254  耗时：0:0:0.32  URI: /online/a/gen/genScheme/form  最大内存: 764m  已分配内存: 764m  已分配内存中的剩余空间: 464m  最大可用内存: 464m
2017-05-26 14:45:37,785 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:45:37.785  URI: /online/a/gen/genScheme/save
2017-05-26 14:45:37,803 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.insert] - ==>  Preparing: INSERT INTO gen_scheme( id, name, category, package_name, module_name, sub_module_name, function_name, function_name_simple, function_author, gen_table_id, create_by, create_date, update_by, update_date, remarks, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2017-05-26 14:45:37,805 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.insert] - ==> Parameters: 3f91c4823b8541358ebaf45f1091a246(String), 供应商订单状态同步(String), curd_lvmama(String), com.lvmama.lvtraffic(String), vas(String), transfer(String), 供应商订单状态同步(String), 供应商订单状态同步(String), lishuiqing(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), 1(String), 2017-05-26 14:45:37.803(Timestamp), 1(String), 2017-05-26 14:45:37.803(Timestamp), (String), 0(String)
2017-05-26 14:45:37,805 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.insert] - <==    Updates: 1
2017-05-26 14:45:37,806 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.get] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.id = ? 
2017-05-26 14:45:37,806 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.get] - ==> Parameters: 93090dc9a2b94b7c87e599bb74fcea0f(String)
2017-05-26 14:45:37,807 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.get] - <==      Total: 1
2017-05-26 14:45:37,808 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.findList] - ==>  Preparing: SELECT a.*, b.id AS "genTable.id", b.name AS "genTable.name", b.comments AS "genTable.comments", b.class_name AS "genTable.className", b.parent_table AS "genTable.parentTable", b.parent_table_fk AS "genTable.parentTableFk" FROM gen_table_column a JOIN gen_table b ON b.id = a.gen_table_id WHERE a.del_flag = ? AND a.gen_table_id = ? ORDER BY a.sort ASC 
2017-05-26 14:45:37,808 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.findList] - ==> Parameters: 0(String), 93090dc9a2b94b7c87e599bb74fcea0f(String)
2017-05-26 14:45:37,816 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.findList] - <==      Total: 8
2017-05-26 14:45:39,060 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java
2017-05-26 14:45:39,069 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.common.client;

import org.codehaus.jackson.type.TypeReference;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

import com.lvmama.lvf.common.client.RestClient;
import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvf.common.exception.ExceptionCode;
import com.lvmama.lvf.common.exception.ExceptionWrapper;
import com.lvmama.lvf.common.utils.JSONMapper;
import com.lvmama.lvtraffic.vas.common.client.path.VasTransferOrderSynBusinessClientPath;
import com.lvmama.lvtraffic.vas.common.dto.enums.ValidStatus;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto; 

@Component
public class VasTransferOrderSynClient {

	private static final Logger logger = LoggerFactory.getLogger(VasTransferOrderSynClient.class);

	@Value("traffic-vas-service.baseurl")
	private String baseUrl;

	@Autowired
	private RestClient restClient;

	/**
	 * 根据id获得供应商订单状态同步
	* @param  
	* @return BaseResponseDto<Object>
	* @throws
	 */
	public VasTransferOrderSynDto queryVasTransferOrderSynById(Long cityId){ 
		VasTransferOrderSynBusinessClientPath command = VasTransferOrderSynBusinessClientPath.QUERY_VASTRANSFERORDERSYN_BY_ID;
		String url = command.url(baseUrl);
		try { 
			String resultStr = restClient.post(url,  String.class, cityId);			
			return JSONMapper.getInstance().readValue(resultStr, new TypeReference<VasTransferOrderSynDto>() { });
		} catch (ExceptionWrapper ew) {
			ew.setErrMessage(ExceptionCode.REMOTE_INVOKE.errMessage(command.cnName, url)+ew.getErrMessage());
			logger.error(ew.getErrMessage(),ew);
			throw ew;
		} catch (Exception e) {
			e.printStackTrace();
		} 
		return null;
	}
	
	/**
	 * 获得供应商订单状态同步列表 
	 * @param
	 * @return BaseResponseDto<Object>
	 * @throws
	 */
	public BaseResultDto<VasTransferOrderSynDto> queryVasTransferOrderSynList(BaseQueryDto<VasTransferOrderSynDto> query) { 
		VasTransferOrderSynBusinessClientPath command = VasTransferOrderSynBusinessClientPath.QUERY_VASTRANSFERORDERSYN_LIST;
		String url = command.url(baseUrl);
		try {
			String resultStr = restClient.post(url, String.class, query);
			return JSONMapper.getInstance().readValue(resultStr,
					new TypeReference<BaseResultDto<VasTransferOrderSynDto>>() {
					});
		} catch (ExceptionWrapper ew) {
			ew.setErrMessage(ExceptionCode.REMOTE_INVOKE.errMessage(
					command.cnName, url) + ew.getErrMessage());
			logger.error(ew.getErrMessage(), ew);
			throw ew;
		} catch (Exception e) {
			e.printStackTrace();
		}
		return null;
	} 
	
	/**
	 * 新增供应商订单状态同步.
	 * @param vasProductInfo
	 * @return
	 */
	public BaseSingleResultDto<VasTransferOrderSynDto> insertVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto){ 
		VasTransferOrderSynBusinessClientPath command = VasTransferOrderSynBusinessClientPath.INSERT_VASTRANSFERORDERSYN;
		String url = command.url(baseUrl);
		try {
			String resultStr = restClient.post(url, String.class, vasTransferOrderSynDto);
			return JSONMapper.getInstance().readValue(resultStr, new TypeReference<BaseSingleResultDto<VasTransferOrderSynDto>>(){});
		} catch (ExceptionWrapper ew) {
			ew.setErrMessage(ExceptionCode.REMOTE_INVOKE.errMessage(command.cnName, url)+ew.getErrMessage());
			logger.error(ew.getErrMessage(),ew);
			throw ew;
		} catch (Exception e) {
			e.printStackTrace();
		}
		return null;
	}
	 
	 /**
	 * 修改供应商订单状态同步
	 * @param vasTransferOrderSynDto
	 * @return
	 */
	 public BaseSingleResultDto<VasTransferOrderSynDto> editVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto) { 
		VasTransferOrderSynBusinessClientPath command = VasTransferOrderSynBusinessClientPath.EDIT_VASTRANSFERORDERSYN;
		String url = command.url(baseUrl);
		try {
			String resultStr = restClient.post(url, String.class,vasTransferOrderSynDto);
			return JSONMapper.getInstance().readValue(
							resultStr,new TypeReference<BaseSingleResultDto<VasTransferOrderSynDto>>() {
							});
		} catch (ExceptionWrapper ew) {
			ew.setErrMessage(ExceptionCode.REMOTE_INVOKE.errMessage(
					command.cnName, url) + ew.getErrMessage());
			logger.error(ew.getErrMessage(), ew);
			throw ew;
		} catch (Exception e) {
			e.printStackTrace();
		}
		return null;
	}
}
2017-05-26 14:45:39,074 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java 文件创建成功!
2017-05-26 14:45:39,075 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java 写入成功!
2017-05-26 14:45:39,075 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java
2017-05-26 14:45:39,076 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java
2017-05-26 14:45:39,079 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.common.client.path;

import com.lvmama.lvf.common.utils.CustomizedPropertyPlaceholderConfigurer;

/**
 * 供应商订单状态同步相关clientpath枚举.
 * 
 * @author Administrator
 * 
 */
public enum VasTransferOrderSynBusinessClientPath {
	QUERY_VASTRANSFERORDERSYN_LIST(Path.QUERY_VASTRANSFERORDERSYN_LIST, "查询供应商订单状态同步列表"),
	QUERY_VASTRANSFERORDERSYN_BY_ID(Path.QUERY_VASTRANSFERORDERSYN_BY_ID, "根据id查询供应商订单状态同步列表"),
	INSERT_VASTRANSFERORDERSYN(Path.INSERT_VASTRANSFERORDERSYN, "新增供应商订单状态同步"), 
	EDIT_VASTRANSFERORDERSYN(Path.EDIT_VASTRANSFERORDERSYN, "编辑供应商订单状态同步") ;

	public String path;
	public String cnName;
	
	private VasTransferOrderSynBusinessClientPath(String path, String cnName) {
		this.path = path;
		this.cnName = cnName;
	}
	
	public String getPath() {
		return path;
	}
	
	public String getCnName() {
		return cnName;
	}
	
	public String url(String baseUrl){
		if(!baseUrl.contains("http")){
			baseUrl = CustomizedPropertyPlaceholderConfigurer.getContextProperty(baseUrl);
		}
		if(baseUrl.endsWith("/")){
			return baseUrl+this.path;
		}
		return baseUrl+"/" +this.path;
	}
	
	public String url(String baseUrl,Object... args){
		String url = url(baseUrl);
		String pat="\\{\\w*\\}";
		return String.format(url.replaceAll(pat,"%s"),args);
	}
	
	public static class Path {

		public final static String basePath = "vastransfer/business";

		public final static String QUERY_VASTRANSFERORDERSYN_LIST = basePath + "/queryVasTransferOrderSynList";
		
		public final static String QUERY_VASTRANSFERORDERSYN_BY_ID = basePath + "/queryVasTransferOrderSynById";  
		
		public final static String INSERT_VASTRANSFERORDERSYN = basePath + "/insertVasTransferOrderSyn"; 
		
		public final static String EDIT_VASTRANSFERORDERSYN = basePath + "/updateVasTransferOrderSyn"; 
	}
}
2017-05-26 14:45:39,079 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java 文件创建成功!
2017-05-26 14:45:39,080 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java 写入成功!
2017-05-26 14:45:39,080 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java
2017-05-26 14:45:39,080 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java
2017-05-26 14:45:39,083 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.offline.web.controller.vas;

import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.ui.Model;

import com.lvmama.lvf.common.dto.BaseResponseDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvtraffic.offline.web.form.vas.VasTransferOrderSynForm;

public interface VasTransferOrderSynController   {
	/**
	 * 进入供应商订单状态同步查询界面
	 * 
	 * @param model
	 * @return String
	 */
	public String toVasTransferOrderSynListQuery(Model model);  
	
	/**
	 * 导出供应商订单状态同步列表
	 * @param i
	 * @param response
	 */
	public void exportCsv(VasTransferOrderSynForm input, HttpServletResponse response);   

	/**
	 * 进入新增供应商订单状态同步
	 * @param model
	 * @return
	 */
	public String toAddVasTransferOrderSyn(Model model);
	
	/**
	 * 新增供应商订单状态同步
	 * @param model
	 * @param queryForm
	 * @param request
	 * @param response
	 * @return
	 */
	public Map<String,Object> insertVasTransferOrderSyn(Model model,VasTransferOrderSynForm queryForm,HttpServletRequest request,HttpServletResponse response);
	
	/**
	 * 进入编辑供应商订单状态同步界面
	 * @param model
	 * @param cityId
	 * @return
	 */
	public String toEditVasTransferOrderSyn(Model model,Long cityId);
	
	/**
	 * 编辑供应商订单状态同步
	 * @param model
	 * @param editForm
	 * @param request
	 * @param response
	 * @return
	 */
	public Map<String,Object> editVasTransferOrderSyn(Model model,VasTransferOrderSynForm editForm,HttpServletRequest request,HttpServletResponse response);
	
	/**
	 * 查询所有供应商订单状态同步
	 * @param model
	 * @param queryForm
	 * @return
	 */
	public BaseResponseDto<VasTransferOrderSynForm> queryVasCityList(Model model,VasTransferOrderSynForm queryForm);
	
}
2017-05-26 14:45:39,084 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java 文件创建成功!
2017-05-26 14:45:39,085 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java 写入成功!
2017-05-26 14:45:39,085 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java
2017-05-26 14:45:39,086 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java
2017-05-26 14:45:39,093 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.offline.web.controller.vas.impl;

import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.commons.beanutils.BeanUtils;
import org.apache.log4j.Logger;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import com.lvmama.comm.pet.po.perm.PermUser;
import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResponseDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvf.common.utils.DateUtils;
import com.lvmama.lvtraffic.offline.web.controller.vas.VasTransferOrderSynController;
import com.lvmama.lvtraffic.offline.web.form.vas.VasTransferOrderSynForm;
import com.lvmama.lvtraffic.offline.web.utils.servlet.Constant;
import com.lvmama.lvtraffic.offline.web.utils.servlet.ServletUtil;
import com.lvmama.lvtraffic.vas.common.client.VasLogClient;
import com.lvmama.lvtraffic.vas.common.client.VasTransferClient;
import com.lvmama.lvtraffic.vas.common.dto.enums.OperName;
import com.lvmama.lvtraffic.vas.common.dto.enums.OperSouce;
import com.lvmama.lvtraffic.vas.common.dto.enums.OperType;
import com.lvmama.lvtraffic.vas.common.dto.enums.ValidStatus;
import com.lvmama.lvtraffic.vas.common.dto.log.LogOperateInfoDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;

@Controller
@RequestMapping("vasTransferOrderSyn")
public class VasTransferOrderSynControllerImpl implements VasTransferOrderSynController {
	private static final Logger logger = Logger.getLogger(VasTransferOrderSynControllerImpl.class);
	@Autowired
	private VasTransferClient vasTransferClient; 

	@Autowired
	private VasLogClient vasLogClient;
	
	@Override
	@RequestMapping("toVasTransferOrderSynListQuery")
	public String toVasTransferOrderSynListQuery(Model model) {  
		model.addAttribute("validStatus", ValidStatus.values());
		return "vas/vas_vasTransferOrderSyn_list";
	} 
	
	@Override
	public void exportCsv(VasTransferOrderSynForm input, HttpServletResponse response) {
		// TODO Auto-generated method stub
		
	}
 
	@Override
	@ResponseBody
	@RequestMapping("queryVasTransferOrderSynList")
	public BaseResponseDto<VasTransferOrderSynForm> queryVasCityList(Model model,
			VasTransferOrderSynForm queryForm) {   
		BaseQueryDto<VasTransferOrderSynDto> query = new BaseQueryDto<VasTransferOrderSynDto>(queryForm.getPagination(),queryForm);
		BaseResultDto<VasTransferOrderSynDto> baseResult = vasTransferClient.queryVasTransferOrderSynList(query);
		List<VasTransferOrderSynDto> results = baseResult.getResults(); 
		
		List<VasTransferOrderSynForm> forms = new ArrayList<VasTransferOrderSynForm>();
		try {
			for (VasTransferOrderSynDto vpt : results) {
				VasTransferOrderSynForm retForm = new VasTransferOrderSynForm();
				BeanUtils.copyProperties(retForm,vpt);
				retForm.setCreateTimeStr(getTimeStr(vpt.getCreateTime()));
				retForm.setUpdateTimeStr(getTimeStr(vpt.getUpdateTime())); 
				forms.add(retForm);
			}
		} catch (Exception e) {
			e.printStackTrace();
			logger.error("出现异常："+e.getMessage(),e);
		}
		BaseResponseDto<VasTransferOrderSynForm> response = new BaseResponseDto<VasTransferOrderSynForm>();
		response.setResults(forms); 
		response.setPagination(baseResult.getPagination());
		return response;
	}

	public String getTimeStr(Date d) {
		if(d!=null)
			return DateUtils.formatCnHmDate(d);
		return "";
	}

	@Override
	@RequestMapping("toAddVasTransferOrderSyn")
	public String toAddVasTransferOrderSyn(Model model) {
		return "vas/add_vasTransferOrderSyn";
	}

	@Override
	@RequestMapping("insertVasTransferOrderSyn")
	@ResponseBody
	public Map<String, Object> insertVasTransferOrderSyn(Model model,
			VasTransferOrderSynForm queryForm, HttpServletRequest request,
			HttpServletResponse response) {
		VasTransferOrderSynDto VasTransferOrderSynDto = queryForm.getVasTransferOrderSynDto();
		VasTransferOrderSynDto.setCityStatus(ValidStatus.VALID);//默认有效
		BaseSingleResultDto<VasTransferOrderSynDto> result =  vasTransferClient.insertVasTransferOrderSyn(VasTransferOrderSynDto);
		Map<String, Object> retMap = new HashMap<String, Object>();
		retMap.put("flag", result.getStatus().name());
		
		Long id = result.getResult().getId();
		
		 //添加操作日志
		LogOperateInfoDto logOperateInfo = new LogOperateInfoDto();
		logOperateInfo.setOperSouce(OperSouce.VAS_TRANSFER_CITY);
		logOperateInfo.setSourceId(id);
		logOperateInfo.setOperType(OperType.VAS_TRANSFER_CITY_ADD);
		logOperateInfo.setOperDesc("新增供应商订单状态同步");
		logOperateInfo.setOperTime(new Date());
		PermUser user = (PermUser)ServletUtil.getSession(request, response, Constant.SESSION_BACK_USER);
		if(null!=user){
			logOperateInfo.setOperAccount(user.getUserName());	
			logOperateInfo.setOperName(OperName.TRANSFER);
		}
		vasLogClient.insertVasOpLog(logOperateInfo);
		return retMap;
	}

	@Override
	@RequestMapping(value="toEditVasTransferOrderSyn/{cityId}",method=RequestMethod.GET)
	public String toEditVasTransferOrderSyn(Model model,@PathVariable Long cityId) {
		VasTransferOrderSynDto transferCity = vasTransferClient.queryVasTransferOrderSynById(cityId);
		model.addAttribute("vasTransferOrderSyn", transferCity); 
		model.addAttribute("validStatus", ValidStatus.values());
		return "vas/edit_vasTransferOrderSyn";
	}

	@Override
	@RequestMapping("editVasTransferOrderSyn")
	@ResponseBody
	public Map<String, Object> editVasTransferOrderSyn(Model model,
			VasTransferOrderSynForm VasTransferOrderSynForm,
			HttpServletRequest request, HttpServletResponse response) {
		String oldCityCode = (String)request.getAttribute("oldCityCode");
		Map<String, Object> retMap = new HashMap<String, Object>();
		VasTransferOrderSynDto VasTransferOrderSynDto = VasTransferOrderSynForm.getVasTransferOrderSynDto();
		BaseSingleResultDto<VasTransferOrderSynDto> result = vasTransferClient.editVasTransferOrderSyn(VasTransferOrderSynDto);
		retMap.put("flag", result.getStatus().name());

		// 添加操作日志
		LogOperateInfoDto logOperateInfo = new LogOperateInfoDto();
		logOperateInfo.setOperSouce(OperSouce.VAS_TRANSFER_CITY);
		logOperateInfo.setSourceId(VasTransferOrderSynDto.getId());
		logOperateInfo.setOperType(OperType.VAS_TRANSFER_CITY_UPDATE);
		logOperateInfo.setOperDesc("编辑供应商订单状态同步");
		logOperateInfo.setOperTime(new Date());
		PermUser user = (PermUser) ServletUtil.getSession(request, response,
				Constant.SESSION_BACK_USER);
		if (null != user) {
			logOperateInfo.setOperAccount(user.getUserName());
			logOperateInfo.setOperName(OperName.TRANSFER);
		}
		vasLogClient.insertVasOpLog(logOperateInfo);

		return retMap;
	}
}
2017-05-26 14:45:39,094 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java 文件创建成功!
2017-05-26 14:45:39,094 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java 写入成功!
2017-05-26 14:45:39,094 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java
2017-05-26 14:45:39,095 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java
2017-05-26 14:45:39,097 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.offline.web.form.vas;

import java.io.Serializable;

import com.lvmama.lvf.common.dto.Pagination;
import com.lvmama.lvf.common.form.Form;
import com.lvmama.lvtraffic.vas.common.dto.enums.ValidStatus;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;

public class VasTransferOrderSynForm extends VasTransferOrderSynDto implements Form,Serializable {
	private static final long serialVersionUID = 1L;

	private Pagination pagination = new Pagination();

	private String createTimeStr;
	private String updateTimeStr;   
	private VasTransferOrderSynDto vasTransferOrderSynDto = new VasTransferOrderSynDto();

	public Pagination getPagination() {
		return pagination;
	}

	public void setPagination(Pagination pagination) {
		this.pagination = pagination;
	}

	public VasTransferOrderSynDto getVasTransferOrderSynDto() {
		return vasTransferOrderSynDto;
	}

	public void setVasTransferOrderSynDto(VasTransferOrderSynDto vasTransferOrderSynDto) {
		this.vasTransferOrderSynDto = vasTransferOrderSynDto;
	}

	public void countRecords(int records) {
		pagination.countRecords(records);
	}

	public int getEndRow() {
		return pagination.getEndRow();
	}

	public int getPage() {
		return pagination.getPage();
	}

	public int getRecords() {
		return pagination.getRecords();
	}

	public int getRows() {
		return pagination.getRows();
	}

	public String getSidx() {
		return pagination.getSidx();
	}

	public String getSord() {
		return pagination.getSord();
	}

	public int getStartRow() {
		return pagination.getStartRow();
	}

	public int getTotal() {
		return pagination.getTotal();
	}

	public boolean isSearch() {
		return pagination.isSearch();
	}

	public void setPage(int page) {
		pagination.setPage(page);
	}

	public void setRecords(int records) {
		pagination.setRecords(records);
	}

	public void setRows(int rows) {
		pagination.setRows(rows);
	}

	public void setRowsByCustom(int customRows) {
		pagination.setRowsByCustom(customRows);
	}

	public void setSearch(boolean search) {
		pagination.setSearch(search);
	}

	public void setSidx(String sidx) {
		pagination.setSidx(sidx);
	}

	public void setSord(String sord) {
		pagination.setSord(sord);
	}

	public void setTotal(int total) {
		pagination.setTotal(total);
	} 
	
	public void setCreateTimeStr(String createTimeStr) {
		this.createTimeStr = createTimeStr;
	}

	public void setUpdateTimeStr(String updateTimeStr) {
		this.updateTimeStr = updateTimeStr;
	} 
 
	public String getCreateTimeStr() {
		return createTimeStr;
	}

	public String getUpdateTimeStr() {
		return updateTimeStr;
	} 
}
2017-05-26 14:45:39,097 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java 文件创建成功!
2017-05-26 14:45:39,097 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java 写入成功!
2017-05-26 14:45:39,097 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java
2017-05-26 14:45:39,098 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java
2017-05-26 14:45:39,100 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.persistence.mapper;

import org.apache.ibatis.annotations.Param;

import com.lvmama.lvf.common.domain.DomainEntityBaseMapper;
import com.lvmama.lvf.common.domain.DomainEntityByNoMapper;
import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.Dto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import java.util.List;
public interface VasTransferOrderSynMapper	extends
		DomainEntityBaseMapper<VasTransferOrderSynDto, BaseQueryDto<? extends Dto>>,
		DomainEntityByNoMapper<VasTransferOrderSynDto> {
	 /**
	 * 不分页查询
	 * @param q
	 * @return
	 */
	public List<VasTransferOrderSynDto> queryNoPage(BaseQueryDto<VasTransferOrderSynDto> q);
}
2017-05-26 14:45:39,100 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java 文件创建成功!
2017-05-26 14:45:39,101 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java 写入成功!
2017-05-26 14:45:39,101 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java
2017-05-26 14:45:39,102 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml
2017-05-26 14:45:39,208 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lvmama.lvtraffic.vas.persistence.mapper.VasTransferOrderSynMapper"> 
     <resultMap id="BaseResultMap" type="com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto" >  
		<result column="id" property="id" jdbcType="VARCHAR" />
		<result column="supp_code" property="suppCode" jdbcType="VARCHAR" />
		<result column="order_id" property="orderId" jdbcType="VARCHAR" />
		<result column="order_status" property="orderStatus" jdbcType="VARCHAR" />
		<result column="console_status" property="consoleStatus" jdbcType="VARCHAR" />
		<result column="request_str" property="requestStr" jdbcType="VARCHAR" />
		<result column="request_time" property="requestTime" jdbcType="TIMESTAMP" />
		<result column="console_time" property="consoleTime" jdbcType="TIMESTAMP" />
	 </resultMap> 
	 
  <sql id="columns" >
		id,supp_code,order_id,order_status,console_status,request_str,request_time,console_time
   </sql> 
	
	<sql id="queryCondition">
		<trim prefix="WHERE" prefixOverrides="AND"> 
			<if test="condition != null">
				<if test="condition.id!=null and condition.id != ''">
					AND id = #{condition.id,jdbcType=VARCHAR}
				</if>
				<if test="condition.suppCode!=null and condition.suppCode != ''">
					AND supp_code = #{condition.suppCode,jdbcType=VARCHAR}
				</if>
				<if test="condition.orderId!=null and condition.orderId != ''">
					AND order_id = #{condition.orderId,jdbcType=VARCHAR}
				</if>
				<if test="condition.orderStatus!=null and condition.orderStatus != ''">
					AND order_status = #{condition.orderStatus,jdbcType=VARCHAR}
				</if>
				<if test="condition.consoleStatus!=null and condition.consoleStatus != ''">
					AND console_status = #{condition.consoleStatus,jdbcType=VARCHAR}
				</if>
				<if test="condition.requestStr!=null and condition.requestStr != ''">
					AND request_str = #{condition.requestStr,jdbcType=VARCHAR}
				</if>
				<if test="condition.requestTime!=null and condition.requestTime != ''">
					AND request_time = #{condition.requestTime,jdbcType=TIMESTAMP}
				</if>
				<if test="condition.consoleTime!=null and condition.consoleTime != ''">
					AND console_time = #{condition.consoleTime,jdbcType=TIMESTAMP}
				</if>
			</if>
		</trim>
	</sql>
	  
	<select id="get" resultMap="BaseResultMap">
		SELECT 
			<include refid="columns"/>
		FROM t_vas_transferorder_syn a 
		WHERE a.id = #{id}
	</select>
	
	<select id="query"  resultMap="BaseResultMap">
		select distinct * from  (SELECT 
			<include refid="columns"/>
		FROM t_vas_transferorder_syn a 
		<include refid="queryCondition"/>) t
		<include refid="MYSQL.pagination" />
	</select>
	
	<select id="queryNoPage"  resultMap="BaseResultMap">
		SELECT 
			<include refid="columns"/>
		FROM t_vas_transferorder_syn a 
		<include refid="queryCondition"/>
	</select>
	
	<select id="count" resultType="java.lang.Integer">
		SELECT COUNT(1) from 		
		(select distinct (a.id)  from t_vas_transferorder_syn a 
		<include refid="queryCondition"/>) t
	</select>
	
	<insert id="insert">
		INSERT INTO t_vas_transferorder_syn(
			id, 
			supp_code, 
			order_id, 
			order_status, 
			console_status, 
			request_str, 
			request_time, 
			console_time
		) VALUES (
			#{id}, 
			#{suppCode}, 
			#{orderId}, 
			#{orderStatus}, 
			#{consoleStatus}, 
			#{requestStr}, 
			#{requestTime}, 
			#{consoleTime}
		)
	</insert>
	
	<select id="getById" resultMap="BaseResultMap" parameterType="java.lang.Long">
		SELECT 
			<include refid="columns"/>
		FROM t_vas_transferorder_syn a 
		WHERE id = #{id}
	</select>  
	
	<update id="updateById">
		UPDATE t_vas_transferorder_syn  
		<set> 	
			<if test="i.id!=null">
				id = #{i.id,jdbcType=VARCHAR},
			</if>
			<if test="i.suppCode!=null">
				supp_code = #{i.suppCode,jdbcType=VARCHAR},
			</if>
			<if test="i.orderId!=null">
				order_id = #{i.orderId,jdbcType=VARCHAR},
			</if>
			<if test="i.orderStatus!=null">
				order_status = #{i.orderStatus,jdbcType=VARCHAR},
			</if>
			<if test="i.consoleStatus!=null">
				console_status = #{i.consoleStatus,jdbcType=VARCHAR},
			</if>
			<if test="i.requestStr!=null">
				request_str = #{i.requestStr,jdbcType=VARCHAR},
			</if>
			<if test="i.requestTime!=null">
				request_time = #{i.requestTime,jdbcType=TIMESTAMP},
			</if>
			<if test="i.consoleTime!=null">
				console_time = #{i.consoleTime,jdbcType=TIMESTAMP}
			</if>
		</set> 	
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		DELETE FROM t_vas_transferorder_syn
		WHERE id = #{id}
	</update>
	
</mapper>
2017-05-26 14:45:39,209 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml 文件创建成功!
2017-05-26 14:45:39,210 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml 写入成功!
2017-05-26 14:45:39,210 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml
2017-05-26 14:45:39,210 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java
2017-05-26 14:45:39,215 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.service;

import java.util.List;

import javax.ws.rs.Consumes;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvf.common.dto.Pagination;
import com.lvmama.lvtraffic.vas.business.service.VasTransferOrderSynService;
import com.lvmama.lvtraffic.vas.common.client.path.VasTransferOrderSynBusinessClientPath;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynVehicleDto;

@Component
@Path("")
public class VasTransferOrderSynResource{
	
	private static final Logger logger = LoggerFactory.getLogger(VasTransferOrderSynResource.class);
	
	@Autowired
	private  VasTransferOrderSynService vasTransferOrderSynService;
	
	/**
	 * 
	 * @Description: 根据id获得供应商订单状态同步
	 * @param request
	 * @return Response 
	 * @throws
	 */
	@POST
	@Produces(MediaType.APPLICATION_JSON)
	@Consumes(MediaType.APPLICATION_JSON)
	@Path(VasTransferOrderSynBusinessClientPath.Path.QUERY_VASTRANSFERORDERSYN_BY_ID)
	public Response queryVasTransferOrderSynById(Long cityId){ 
		try {
			VasTransferOrderSynDto vasTransferOrderSynDto = vasTransferOrderSynService.queryVasTransferOrderSynById(cityId);
			return Response.ok(vasTransferOrderSynDto).build();
		} catch (Exception e) {
			e.printStackTrace();
			return Response.noContent().build();
		}
	}  
	
	@POST
	@GET
	@Produces(MediaType.APPLICATION_JSON)
	@Consumes(MediaType.APPLICATION_JSON)
	@Path(VasTransferOrderSynBusinessClientPath.Path.QUERY_VASTRANSFERORDERSYN_LIST)
	public Response queryVasTransferOrderSynList(BaseQueryDto<VasTransferOrderSynDto> request){
		try { 
			BaseResultDto<VasTransferOrderSynDto> baseResult = new BaseResultDto<VasTransferOrderSynDto>(); 
			List<VasTransferOrderSynDto> data = vasTransferOrderSynService.queryVasTransferOrderSyns(request);
			int count = vasTransferOrderSynService.queryVasTransferOrderSynCount(request);
			Pagination pagination = request.getPagination();
			pagination.setRecords(count);
			pagination.countRecords(count); 
			
			baseResult.setResults(data);
			baseResult.setPagination(pagination);
			return Response.ok(baseResult).build();
		} catch (Exception e) {
			logger.error(e.getMessage(),e);
			return Response.noContent().build();
		}
	}
	
	@POST
	@Produces(MediaType.APPLICATION_JSON)
	@Consumes(MediaType.APPLICATION_JSON)
	@Path(VasTransferOrderSynBusinessClientPath.Path.INSERT_VASTRANSFERORDERSYN)
	public Response insertVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto){ 
		try{ 
			BaseSingleResultDto<VasTransferOrderSynDto> result = new BaseSingleResultDto<VasTransferOrderSynDto>();		
			
			result = vasTransferOrderSynService.insertVasTransferOrderSyn(vasTransferOrderSynDto);
			
			return Response.ok(result).build();
		}catch (Exception e) {
			
			e.printStackTrace();
			return Response.noContent().build();
		}
	}
	
	@POST
	@Produces(MediaType.APPLICATION_JSON)
	@Consumes(MediaType.APPLICATION_JSON)
	@Path(VasTransferOrderSynBusinessClientPath.Path.EDIT_VASTRANSFERORDERSYN)
	public Response editVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto){ 
		try{ 
			BaseSingleResultDto<VasTransferOrderSynDto> result = new BaseSingleResultDto<VasTransferOrderSynDto>();		
			
			result = vasTransferOrderSynService.updateVasTransferOrderSyn(vasTransferOrderSynDto);
			
			return Response.ok(result).build();
		}catch (Exception e) {
			
			e.printStackTrace();
			return Response.noContent().build();
		}
	}
}
2017-05-26 14:45:39,215 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java 文件创建成功!
2017-05-26 14:45:39,216 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java 写入成功!
2017-05-26 14:45:39,216 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java
2017-05-26 14:45:39,217 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java
2017-05-26 14:45:39,218 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.business.service;

import java.util.List;

import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvtraffic.vas.common.dto.request.transfer.VasTransferOrderSynSearchRequest;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynProductDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynVehicleDto;

/**
 * 供应商订单状态同步服务
* @author Administrator
* @date 
*/
public interface VasTransferOrderSynService {   
	/**
	 * 查询供应商订单状态同步.
	 * @param queryCondition
	 * @return
	 */
	List<VasTransferOrderSynDto> queryVasTransferOrderSyns(BaseQueryDto<VasTransferOrderSynDto> queryCondition);
	
	/**
	 * 查询供应商订单状态同步.
	 * @param queryCondition
	 * @return
	 */
	VasTransferOrderSynDto queryVasTransferOrderSynById(Long id);
	
	/**
	 * 查询供应商订单状态同步数量
	 * @param queryCondition
	 * @return
	 */
	int queryVasTransferOrderSynCount(BaseQueryDto<VasTransferOrderSynDto> queryCondition);
	
	/**
	 * 新增供应商订单状态同步
	 * @param vasTransferOrderSynDto
	 * @return
	 */
	public BaseSingleResultDto<VasTransferOrderSynDto> insertVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto);
	
	/**
	 * 修改供应商订单状态同步.
	 * @param vasTransferOrderSynDto
	 * @return
	 */
	public BaseSingleResultDto<VasTransferOrderSynDto> updateVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto);  
}
2017-05-26 14:45:39,218 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java 文件创建成功!
2017-05-26 14:45:39,219 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java 写入成功!
2017-05-26 14:45:39,219 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java
2017-05-26 14:45:39,220 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl
2017-05-26 14:45:39,229 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
     <link rel="stylesheet" href="${request.contextPath}/css/trip-list.css">
    <link rel="stylesheet" href="${request.contextPath}/css/order-details.css" type="text/css"/>
	<link type="text/css" rel="stylesheet" href="${request.contextPath}/js/resources/jquery-ui-1.8.11/css/redmond/jquery-ui-1.8.11.css"/>
	<link type="text/css" rel="stylesheet" href="${request.contextPath}/js/resources/jqGrid/css/ui.jqgrid.css"/>
	<script src="${request.contextPath}/js/resources/jqGrid/js/jquery-1.7.2.min.js"> </script>
	<script src="${request.contextPath}/js/resources/jquery-ui-1.8.10.custom.min.js"></script>
	<script src="${request.contextPath}/js/resources/jqGrid/src/i18n/grid.locale-cn.js"></script>
	<script src="${request.contextPath}/js/resources/jqGrid/js/jquery.jqGrid.src.js"></script>
	<script type="text/javascript" src="${request.contextPath}/js/My97DatePicker/WdatePicker.js"></script>

  	<style>
        span{
            width: 15%;
        }
    </style>
</head>
<body>
<div class="content content1">
    <div class="breadnav"><span>增值服务</span>>供应商订单状态同步</div>
    <form id="myForm" autocomplete="off" >
        <div class="infor1">
            <div class="product message">
                <div class="main">

                    <div class="part">
                                      
                    </div>

                </div>
            </div>
        </div>

        <div class="click">
            <a href="javascript:;"><div class="button" onclick="query()">查询</div></a>
            <a href="javascript:;"><div class="button" onclick="add()">新增</div></a> 
        </div>

    </form>

    <div class="content1" style="margin-top:50px;">
        <table id="vasTransferOrderSynList"></table>
        <div id="pager"></div>
    </div>

	<div id="jsContainer" class="jsContainer" style="height: 0">
		<div id="tuna_alert"
			style="display: none; position: absolute; z-index: 999; overflow: hidden;"></div>
		<div id="tuna_jmpinfo"
			style="visibility: hidden; position: absolute; z-index: 120;"></div>
	</div>                 
	
		
	<div id="addLayer" class="content content1" style="display:none; width: 400px; height: 380px;">
		<table width="100%" style="margin-top: 5px;">
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>流水号：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addId" name="addId"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>供应商code：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addSuppCode" name="addSuppCode"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>供应商订单id：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addOrderId" name="addOrderId"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>状态：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addOrderStatus" name="addOrderStatus"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>处理状态：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addConsoleStatus" name="addConsoleStatus"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>请求json串：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addRequestStr" name="addRequestStr"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>请求时间：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addRequestTime" name="addRequestTime"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>console_time：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addConsoleTime" name="addConsoleTime"/>
				</td>
			</tr>
		</table>
		<div class="click" style="margin:0px 240px;margin-top: 20px;">
			<a href="javascript:void(0);" id="bt_add_vasTransferOrderSyn"><div class="button" id="div2310">保存</div></a>
		</div>
	</div>

	<div id="editLayer" class="content content1" style="display:none; width: 400px; height: 380px;">
		<table width="100%" style="margin-top: 5px;">
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>流水号：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editId" name="editId" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>供应商code：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editSuppCode" name="editSuppCode" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>供应商订单id：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editOrderId" name="editOrderId" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>状态：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editOrderStatus" name="editOrderStatus" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>处理状态：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editConsoleStatus" name="editConsoleStatus" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>请求json串：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editRequestStr" name="editRequestStr" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>请求时间：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editRequestTime" name="editRequestTime" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>console_time：</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editConsoleTime" name="editConsoleTime" />
				</td>
			</tr>
		</table>
		<div class="click" style="margin:0px 240px;margin-top: 20px;">
			<a href="javascript:void(0);" id="bt_edit_vasTransferOrderSyn"><div class="button" id="div2311">保存</div></a>
		</div>
	</div> 
</div>
</body>
<script type="text/javascript"> 
    $(function (){ 
        initGrid(); 
		
		$("#bt_edit_vasTransferOrderSyn").on("click",function(){ 
			var idVal = $("#editId").val();
			var suppCodeVal = $("#editSuppCode").val();
			var orderIdVal = $("#editOrderId").val();
			var orderStatusVal = $("#editOrderStatus").val();
			var consoleStatusVal = $("#editConsoleStatus").val();
			var requestStrVal = $("#editRequestStr").val();
			var requestTimeVal = $("#editRequestTime").val();
			var consoleTimeVal = $("#editConsoleTime").val();
			
			/*
            if(cityNameVal == ''){
				alert("城市名称不能空");
				return false;
			} */
            $.ajax({
                url : '${request.contextPath}/vasTransferOrderSyn/editvasTransferOrderSyn',
                type : 'POST',
                data : {
	                "vasTransferOrderSynDto.id" : idVal, 
	                	                "vasTransferOrderSynDto.suppCode" : suppCodeVal, 
	                	                "vasTransferOrderSynDto.orderId" : orderIdVal, 
	                	                "vasTransferOrderSynDto.orderStatus" : orderStatusVal, 
	                	                "vasTransferOrderSynDto.consoleStatus" : consoleStatusVal, 
	                	                "vasTransferOrderSynDto.requestStr" : requestStrVal, 
	                	                "vasTransferOrderSynDto.requestTime" : requestTimeVal, 
	                	                "vasTransferOrderSynDto.consoleTime" : consoleTimeVal   
                },
                success : function(data){ 
                    if(data.flag == 'SUCCESS'){
                        alert("数据修改成功！");
						$("#editLayer").dialog('close')  ;				
						query();
                    }else{
                        alert("数据修改失败");
                    }
                }
            });
        });
		
		 $("#bt_add_vasTransferOrderSyn").on("click",function(){  
			var idVal = $("#addId").val();
			var suppCodeVal = $("#addSuppCode").val();
			var orderIdVal = $("#addOrderId").val();
			var orderStatusVal = $("#addOrderStatus").val();
			var consoleStatusVal = $("#addConsoleStatus").val();
			var requestStrVal = $("#addRequestStr").val();
			var requestTimeVal = $("#addRequestTime").val();
			var consoleTimeVal = $("#addConsoleTime").val();
			/*
            if(cityNameV == ''){
				alert("城市名称不能空");
				return false;
			} */
			
            $.ajax({
                url : '${request.contextPath}/vasTransferOrderSyn/insertvasTransferOrderSyn',
                type : 'POST',
                data : {
	                "vasTransferOrderSynDto.id" : idVal, 
	                	                "vasTransferOrderSynDto.suppCode" : suppCodeVal, 
	                	                "vasTransferOrderSynDto.orderId" : orderIdVal, 
	                	                "vasTransferOrderSynDto.orderStatus" : orderStatusVal, 
	                	                "vasTransferOrderSynDto.consoleStatus" : consoleStatusVal, 
	                	                "vasTransferOrderSynDto.requestStr" : requestStrVal, 
	                	                "vasTransferOrderSynDto.requestTime" : requestTimeVal, 
	                	                "vasTransferOrderSynDto.consoleTime" : consoleTimeVal   
                },
                success : function(data){ 
                    if(data.flag == 'SUCCESS'){
                        alert("数据新增成功！"); 
						$("#addLayer").dialog('close')  ;	
						query(); 
                    }else{
                        alert("数据新增失败");
                    }
                }
            });
        });
    });

    //清空查询信息
    function reset() {
        document.getElementById("myForm").reset();
    } 
	
    //查询列表信息
    function query() { 
        $("#vasTransferOrderSynList").jqGrid('setGridParam', {
            url : "${request.contextPath}/vasTransferOrderSyn/queryVasTransferOrderSynList",
            datatype : "json",
            mtype : "POST",
            postData : getQueryParams()
        }).trigger("reloadGrid");
    }
 
	
	//修改
	function edit(trNode) {  
		$("#editId").val($(trNode).children().eq(1).text());
		$("#editSuppCode").val($(trNode).children().eq(2).text());
		$("#editOrderId").val($(trNode).children().eq(3).text());
		$("#editOrderStatus").val($(trNode).children().eq(4).text());
		$("#editConsoleStatus").val($(trNode).children().eq(5).text());
		$("#editRequestStr").val($(trNode).children().eq(6).text());
		$("#editRequestTime").val($(trNode).children().eq(7).text());
		$("#editConsoleTime").val($(trNode).children().eq(8).text());
		
		$('#editLayer').dialog({
				title:'修改数据',
				width:600,
				height:400,
				modal:'true'
			});
	} 
	
	function add(){ 
		 $('#addLayer input').val('');
		 $('#addLayer').dialog({
			title:'新增数据',
			width:600,
			height:400,
			modal:'true'
		});
	}
  

   function getQueryParams() { 
	var cn = $("#cityName").val();
	cn = cn.substring(0,cn.indexOf('(')); 
    return  {
            'cityName':cn, 
            'cityStatus':$("#cityStatus").val() }
    } 
		
    function initGrid() {
        $("#vasTransferOrderSynList").jqGrid({
            url : "${request.contextPath}/vasTransferOrderSyn/queryVasTransferOrderSynList",
            datatype : "json",
            mtype : "POST",
            colNames : ['流水号','供应商code','供应商订单id','状态','处理状态','请求json串','请求时间','console_time'],
            colModel : [{
                name : 'id',
                index : 'id',
                align : 'center', 
                sortable:false
            },{
                name : 'suppCode',
                index : 'suppCode',
                align : 'center', 
                sortable:false
            },{
                name : 'orderId',
                index : 'orderId',
                align : 'center', 
                sortable:false
            },{
                name : 'orderStatus',
                index : 'orderStatus',
                align : 'center', 
                sortable:false
            },{
                name : 'consoleStatus',
                index : 'consoleStatus',
                align : 'center', 
                sortable:false
            },{
                name : 'requestStr',
                index : 'requestStr',
                align : 'center', 
                sortable:false
            },{
                name : 'requestTime',
                index : 'requestTime',
                align : 'center', 
                sortable:false
            },{
                name : 'consoleTime',
                index : 'consoleTime',
                align : 'center', 
                sortable:false
            }],
            rowNum: 10,            //每页显示记录数
            autowidth: true,      //自动匹配宽度
            pager: '#pager',      //表格数据关联的分页条，html元素
            rowList:[10,20,50,500],   //分页选项，可以下拉选择每页显示记录数
            viewrecords: true,    //显示总记录数
            height:'auto',//高度，表格高度。可为数值、百分比或'auto' 
            gridview:true,        //加速显示
            viewrecords: true,    //显示总记录数
            multiselect : true,
            sortable:true,        //可以排序
            sortname: 'createTime',  //排序字段名
            sortorder: "desc",    //排序方式：倒序
            caption : '供应商订单状态同步列表',
            jsonReader : {
                root : "results",                
                page : "pagination.page",       
                records : "pagination.records",  
                total:'pagination.total',        
                repeatitems : false            
            },
            onPaging : function(pgButton) {
                $("#vasTransferOrderSynList").jqGrid('setGridParam', {
                    postData : getQueryParams()
                });
            },
            postData : getQueryParams(),
            gridComplete:function(){  
                var ids=jQuery("#vasTransferOrderSynList").jqGrid('getDataIDs');
                for(var i=0; i<ids.length; i++){
                    var id=ids[i];
                    var rowData = $('#vasTransferOrderSynList').jqGrid('getRowData',id);
					var operateClick = '<a href="javascript:;" style="color:blue" onclick="edit(this.parentNode.parentNode)" >修改</a> ';
                    jQuery("#vasTransferOrderSynList").jqGrid('setRowData', id , {operate:operateClick});
                }
            }
        });
    } 
     
    </script> 
</html>
2017-05-26 14:45:39,230 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl 文件创建成功!
2017-05-26 14:45:39,231 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl 写入成功!
2017-05-26 14:45:39,231 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl
2017-05-26 14:45:39,231 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java
2017-05-26 14:45:39,234 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.business.service.impl;

import java.util.Date;
import java.util.List;

import org.apache.commons.lang.StringUtils;
import org.apache.log4j.Logger;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvf.common.dto.status.ResultStatus;
import com.lvmama.lvtraffic.vas.business.service.VasTransferOrderSynService;
import com.lvmama.lvtraffic.vas.common.dto.enums.ValidStatus;
import com.lvmama.lvtraffic.vas.common.dto.request.transfer.VasTransferOrderSynSearchRequest;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynProductDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynVehicleDto;
import com.lvmama.lvtraffic.vas.persistence.mapper.VasTransferOrderSynMapper; 

/**
 * 供应商订单状态同步服务实现类.
 * @author Administrator
 *
 */
@Service
public class VasTransferOrderSynServiceImpl implements VasTransferOrderSynService {
	public static Logger logger = Logger.getLogger(VasTransferOrderSynServiceImpl.class);

	@Autowired
	private VasTransferOrderSynMapper vasTransferOrderSynMapper; 
	 
	@Override
	public List<VasTransferOrderSynDto> queryVasTransferOrderSyns(
			BaseQueryDto<VasTransferOrderSynDto> q) { 
		List<VasTransferOrderSynDto> vasOrderInfoDtoList = vasTransferOrderSynMapper.query(q); 
		return vasOrderInfoDtoList;
	}

	@Override
	public int queryVasTransferOrderSynCount(BaseQueryDto<VasTransferOrderSynDto> q) {
		return vasTransferOrderSynMapper.count(q); 
	}

	@Override
	public VasTransferOrderSynDto queryVasTransferOrderSynById(Long id) { 
		return vasTransferOrderSynMapper.getById(id);
	}  
	
	@Override
	public BaseSingleResultDto<VasTransferOrderSynDto> insertVasTransferOrderSyn(
			VasTransferOrderSynDto vasTransferOrderSynDto) {
		BaseSingleResultDto<VasTransferOrderSynDto> result = new BaseSingleResultDto<VasTransferOrderSynDto>();
		int  record = vasTransferOrderSynMapper.insert(vasTransferOrderSynDto);
		
		result.setResult(vasTransferOrderSynDto);
		if(record == 0){ 
			result.setErrorMessage("新增供应商订单状态同步失败");
			return result;
		} 
		return result;
	}

	@Override
	public BaseSingleResultDto<VasTransferOrderSynDto> updateVasTransferOrderSyn(
			VasTransferOrderSynDto vasTransferOrderSynDto) {
		BaseSingleResultDto<VasTransferOrderSynDto> result = new BaseSingleResultDto<VasTransferOrderSynDto>();
		try{
			vasTransferOrderSynMapper.updateById(vasTransferOrderSynDto.getId(), vasTransferOrderSynDto);
		}catch(Exception e){ 
			logger.error(e.getMessage(),e); 
			result.setErrorMessage("新增供应商订单状态同步失败:"+e.getMessage());
			return result; 
		}  
		result.setResult(vasTransferOrderSynDto); 
		return result;
	} 
}
2017-05-26 14:45:39,234 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java 文件创建成功!
2017-05-26 14:45:39,235 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - 文件 E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java 写入成功!
2017-05-26 14:45:39,235 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java
2017-05-26 14:45:39,271 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: redirect:/a/gen/genScheme/?repage
2017-05-26 14:45:39,295 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:45:39.295  耗时：0:0:1.510  URI: /online/a/gen/genScheme/save  最大内存: 763m  已分配内存: 763m  已分配内存中的剩余空间: 595m  最大可用内存: 595m
2017-05-26 14:45:39,305 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 开始计时: 02:45:39.304  URI: /online/a/gen/genScheme/
2017-05-26 14:45:39,309 [http-8181-1] DEBUG [com.thinkgem.jeesite.common.persistence.interceptor.PaginationInterceptor] - COUNT SQL: select count(1) from (SELECT         a.*,   a.gen_table_id AS "genTable.id"      FROM gen_scheme a                WHERE a.del_flag = ?        ) tmp_count
2017-05-26 14:45:39,310 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - ==>  Preparing: SELECT a.*, a.gen_table_id AS "genTable.id" FROM gen_scheme a WHERE a.del_flag = ? ORDER BY a.update_date DESC limit 30 
2017-05-26 14:45:39,310 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - ==> Parameters: 0(String)
2017-05-26 14:45:39,314 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.findList] - <==      Total: 12
2017-05-26 14:45:39,317 [http-8181-1] INFO  [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - ViewName: modules/gen/genSchemeList
2017-05-26 14:45:39,326 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.interceptor.LogInterceptor] - 计时结束：02:45:39.326  耗时：0:0:0.22  URI: /online/a/gen/genScheme/  最大内存: 763m  已分配内存: 763m  已分配内存中的剩余空间: 592m  最大可用内存: 592m
2017-05-26 15:03:42,815 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.get] - ==>  Preparing: SELECT a.*, a.gen_table_id AS "genTable.id" FROM gen_scheme a WHERE a.id = ? 
2017-05-26 15:03:42,841 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.get] - ==> Parameters: 3f91c4823b8541358ebaf45f1091a246(String)
2017-05-26 15:03:42,865 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.get] - <==      Total: 1
2017-05-26 15:03:42,890 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.update] - ==>  Preparing: UPDATE gen_scheme SET name = ?, category = ?, package_name = ?, module_name = ?, sub_module_name = ?, function_name = ?, function_name_simple = ?, function_author = ?, gen_table_id = ?, update_by = ?, update_date = ?, remarks = ? WHERE id = ? 
2017-05-26 15:03:42,892 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.update] - ==> Parameters: Ӧ̶״̬ͬ(String), curd_lvmama(String), com.lvmama.lvtraffic(String), vas(String), transfer(String), Ӧ̶״̬ͬ(String), Ӧ̶״̬ͬ(String), lishuiqing(String), 93090dc9a2b94b7c87e599bb74fcea0f(String), null, 2017-05-26 15:03:42.89(Timestamp), (String), 3f91c4823b8541358ebaf45f1091a246(String)
2017-05-26 15:03:42,893 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenSchemeDao.update] - <==    Updates: 1
2017-05-26 15:03:42,894 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.get] - ==>  Preparing: SELECT a.* FROM gen_table a WHERE a.id = ? 
2017-05-26 15:03:42,894 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.get] - ==> Parameters: 93090dc9a2b94b7c87e599bb74fcea0f(String)
2017-05-26 15:03:42,896 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableDao.get] - <==      Total: 1
2017-05-26 15:03:42,934 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.findList] - ==>  Preparing: SELECT a.*, b.id AS "genTable.id", b.name AS "genTable.name", b.comments AS "genTable.comments", b.class_name AS "genTable.className", b.parent_table AS "genTable.parentTable", b.parent_table_fk AS "genTable.parentTableFk" FROM gen_table_column a JOIN gen_table b ON b.id = a.gen_table_id WHERE a.del_flag = ? AND a.gen_table_id = ? ORDER BY a.sort ASC 
2017-05-26 15:03:42,934 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.findList] - ==> Parameters: 0(String), 93090dc9a2b94b7c87e599bb74fcea0f(String)
2017-05-26 15:03:42,945 [main] DEBUG [com.thinkgem.jeesite.modules.gen.dao.GenTableColumnDao.findList] - <==      Total: 8
2017-05-26 15:03:43,217 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java
2017-05-26 15:03:43,225 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.common.client;

import org.codehaus.jackson.type.TypeReference;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

import com.lvmama.lvf.common.client.RestClient;
import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvf.common.exception.ExceptionCode;
import com.lvmama.lvf.common.exception.ExceptionWrapper;
import com.lvmama.lvf.common.utils.JSONMapper;
import com.lvmama.lvtraffic.vas.common.client.path.VasTransferOrderSynBusinessClientPath;
import com.lvmama.lvtraffic.vas.common.dto.enums.ValidStatus;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto; 

@Component
public class VasTransferOrderSynClient {

	private static final Logger logger = LoggerFactory.getLogger(VasTransferOrderSynClient.class);

	@Value("traffic-vas-service.baseurl")
	private String baseUrl;

	@Autowired
	private RestClient restClient;

	/**
	 * idùӦ̶״̬ͬ
	* @param  
	* @return BaseResponseDto<Object>
	* @throws
	 */
	public VasTransferOrderSynDto queryVasTransferOrderSynById(Long cityId){ 
		VasTransferOrderSynBusinessClientPath command = VasTransferOrderSynBusinessClientPath.QUERY_VASTRANSFERORDERSYN_BY_ID;
		String url = command.url(baseUrl);
		try { 
			String resultStr = restClient.post(url,  String.class, cityId);			
			return JSONMapper.getInstance().readValue(resultStr, new TypeReference<VasTransferOrderSynDto>() { });
		} catch (ExceptionWrapper ew) {
			ew.setErrMessage(ExceptionCode.REMOTE_INVOKE.errMessage(command.cnName, url)+ew.getErrMessage());
			logger.error(ew.getErrMessage(),ew);
			throw ew;
		} catch (Exception e) {
			e.printStackTrace();
		} 
		return null;
	}
	
	/**
	 * ùӦ̶״̬ͬб 
	 * @param
	 * @return BaseResponseDto<Object>
	 * @throws
	 */
	public BaseResultDto<VasTransferOrderSynDto> queryVasTransferOrderSynList(BaseQueryDto<VasTransferOrderSynDto> query) { 
		VasTransferOrderSynBusinessClientPath command = VasTransferOrderSynBusinessClientPath.QUERY_VASTRANSFERORDERSYN_LIST;
		String url = command.url(baseUrl);
		try {
			String resultStr = restClient.post(url, String.class, query);
			return JSONMapper.getInstance().readValue(resultStr,
					new TypeReference<BaseResultDto<VasTransferOrderSynDto>>() {
					});
		} catch (ExceptionWrapper ew) {
			ew.setErrMessage(ExceptionCode.REMOTE_INVOKE.errMessage(
					command.cnName, url) + ew.getErrMessage());
			logger.error(ew.getErrMessage(), ew);
			throw ew;
		} catch (Exception e) {
			e.printStackTrace();
		}
		return null;
	} 
	
	/**
	 * Ӧ̶״̬ͬ.
	 * @param vasProductInfo
	 * @return
	 */
	public BaseSingleResultDto<VasTransferOrderSynDto> insertVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto){ 
		VasTransferOrderSynBusinessClientPath command = VasTransferOrderSynBusinessClientPath.INSERT_VASTRANSFERORDERSYN;
		String url = command.url(baseUrl);
		try {
			String resultStr = restClient.post(url, String.class, vasTransferOrderSynDto);
			return JSONMapper.getInstance().readValue(resultStr, new TypeReference<BaseSingleResultDto<VasTransferOrderSynDto>>(){});
		} catch (ExceptionWrapper ew) {
			ew.setErrMessage(ExceptionCode.REMOTE_INVOKE.errMessage(command.cnName, url)+ew.getErrMessage());
			logger.error(ew.getErrMessage(),ew);
			throw ew;
		} catch (Exception e) {
			e.printStackTrace();
		}
		return null;
	}
	 
	 /**
	 * ޸ĹӦ̶״̬ͬ
	 * @param vasTransferOrderSynDto
	 * @return
	 */
	 public BaseSingleResultDto<VasTransferOrderSynDto> editVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto) { 
		VasTransferOrderSynBusinessClientPath command = VasTransferOrderSynBusinessClientPath.EDIT_VASTRANSFERORDERSYN;
		String url = command.url(baseUrl);
		try {
			String resultStr = restClient.post(url, String.class,vasTransferOrderSynDto);
			return JSONMapper.getInstance().readValue(
							resultStr,new TypeReference<BaseSingleResultDto<VasTransferOrderSynDto>>() {
							});
		} catch (ExceptionWrapper ew) {
			ew.setErrMessage(ExceptionCode.REMOTE_INVOKE.errMessage(
					command.cnName, url) + ew.getErrMessage());
			logger.error(ew.getErrMessage(), ew);
			throw ew;
		} catch (Exception e) {
			e.printStackTrace();
		}
		return null;
	}
}
2017-05-26 15:03:43,229 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java ļ!
2017-05-26 15:03:43,231 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java ļɹ!
2017-05-26 15:03:43,232 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java дɹ!
2017-05-26 15:03:43,232 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynClient.java
2017-05-26 15:03:43,233 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java
2017-05-26 15:03:43,235 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.common.client.path;

import com.lvmama.lvf.common.utils.CustomizedPropertyPlaceholderConfigurer;

/**
 * Ӧ̶״̬ͬclientpathö.
 * 
 * @author Administrator
 * 
 */
public enum VasTransferOrderSynBusinessClientPath {
	QUERY_VASTRANSFERORDERSYN_LIST(Path.QUERY_VASTRANSFERORDERSYN_LIST, "ѯӦ̶״̬ͬб"),
	QUERY_VASTRANSFERORDERSYN_BY_ID(Path.QUERY_VASTRANSFERORDERSYN_BY_ID, "idѯӦ̶״̬ͬб"),
	INSERT_VASTRANSFERORDERSYN(Path.INSERT_VASTRANSFERORDERSYN, "Ӧ̶״̬ͬ"), 
	EDIT_VASTRANSFERORDERSYN(Path.EDIT_VASTRANSFERORDERSYN, "༭Ӧ̶״̬ͬ") ;

	public String path;
	public String cnName;
	
	private VasTransferOrderSynBusinessClientPath(String path, String cnName) {
		this.path = path;
		this.cnName = cnName;
	}
	
	public String getPath() {
		return path;
	}
	
	public String getCnName() {
		return cnName;
	}
	
	public String url(String baseUrl){
		if(!baseUrl.contains("http")){
			baseUrl = CustomizedPropertyPlaceholderConfigurer.getContextProperty(baseUrl);
		}
		if(baseUrl.endsWith("/")){
			return baseUrl+this.path;
		}
		return baseUrl+"/" +this.path;
	}
	
	public String url(String baseUrl,Object... args){
		String url = url(baseUrl);
		String pat="\\{\\w*\\}";
		return String.format(url.replaceAll(pat,"%s"),args);
	}
	
	public static class Path {

		public final static String basePath = "vastransfer/business";

		public final static String QUERY_VASTRANSFERORDERSYN_LIST = basePath + "/queryVasTransferOrderSynList";
		
		public final static String QUERY_VASTRANSFERORDERSYN_BY_ID = basePath + "/queryVasTransferOrderSynById";  
		
		public final static String INSERT_VASTRANSFERORDERSYN = basePath + "/insertVasTransferOrderSyn"; 
		
		public final static String EDIT_VASTRANSFERORDERSYN = basePath + "/updateVasTransferOrderSyn"; 
	}
}
2017-05-26 15:03:43,235 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java ļ!
2017-05-26 15:03:43,236 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java ļɹ!
2017-05-26 15:03:43,236 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java дɹ!
2017-05-26 15:03:43,236 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynBusinessClientPath.java
2017-05-26 15:03:43,237 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java
2017-05-26 15:03:43,239 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.offline.web.controller.vas;

import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.ui.Model;

import com.lvmama.lvf.common.dto.BaseResponseDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvtraffic.offline.web.form.vas.VasTransferOrderSynForm;

public interface VasTransferOrderSynController   {
	/**
	 * 빩Ӧ̶״̬ͬѯ
	 * 
	 * @param model
	 * @return String
	 */
	public String toVasTransferOrderSynListQuery(Model model);  
	
	/**
	 * Ӧ̶״̬ͬб
	 * @param i
	 * @param response
	 */
	public void exportCsv(VasTransferOrderSynForm input, HttpServletResponse response);   

	/**
	 * Ӧ̶״̬ͬ
	 * @param model
	 * @return
	 */
	public String toAddVasTransferOrderSyn(Model model);
	
	/**
	 * Ӧ̶״̬ͬ
	 * @param model
	 * @param queryForm
	 * @param request
	 * @param response
	 * @return
	 */
	public Map<String,Object> insertVasTransferOrderSyn(Model model,VasTransferOrderSynForm queryForm,HttpServletRequest request,HttpServletResponse response);
	
	/**
	 * ༭Ӧ̶״̬ͬ
	 * @param model
	 * @param cityId
	 * @return
	 */
	public String toEditVasTransferOrderSyn(Model model,Long cityId);
	
	/**
	 * ༭Ӧ̶״̬ͬ
	 * @param model
	 * @param editForm
	 * @param request
	 * @param response
	 * @return
	 */
	public Map<String,Object> editVasTransferOrderSyn(Model model,VasTransferOrderSynForm editForm,HttpServletRequest request,HttpServletResponse response);
	
	/**
	 * ѯйӦ̶״̬ͬ
	 * @param model
	 * @param queryForm
	 * @return
	 */
	public BaseResponseDto<VasTransferOrderSynForm> queryVasCityList(Model model,VasTransferOrderSynForm queryForm);
	
}
2017-05-26 15:03:43,240 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java ļ!
2017-05-26 15:03:43,241 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java ļɹ!
2017-05-26 15:03:43,242 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java дɹ!
2017-05-26 15:03:43,242 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynController.java
2017-05-26 15:03:43,243 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java
2017-05-26 15:03:43,250 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.offline.web.controller.vas.impl;

import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.apache.commons.beanutils.BeanUtils;
import org.apache.log4j.Logger;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import com.lvmama.comm.pet.po.perm.PermUser;
import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResponseDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvf.common.utils.DateUtils;
import com.lvmama.lvtraffic.offline.web.controller.vas.VasTransferOrderSynController;
import com.lvmama.lvtraffic.offline.web.form.vas.VasTransferOrderSynForm;
import com.lvmama.lvtraffic.offline.web.utils.servlet.Constant;
import com.lvmama.lvtraffic.offline.web.utils.servlet.ServletUtil;
import com.lvmama.lvtraffic.vas.common.client.VasLogClient;
import com.lvmama.lvtraffic.vas.common.client.VasTransferClient;
import com.lvmama.lvtraffic.vas.common.dto.enums.OperName;
import com.lvmama.lvtraffic.vas.common.dto.enums.OperSouce;
import com.lvmama.lvtraffic.vas.common.dto.enums.OperType;
import com.lvmama.lvtraffic.vas.common.dto.enums.ValidStatus;
import com.lvmama.lvtraffic.vas.common.dto.log.LogOperateInfoDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;

@Controller
@RequestMapping("vasTransferOrderSyn")
public class VasTransferOrderSynControllerImpl implements VasTransferOrderSynController {
	private static final Logger logger = Logger.getLogger(VasTransferOrderSynControllerImpl.class);
	@Autowired
	private VasTransferClient vasTransferClient; 

	@Autowired
	private VasLogClient vasLogClient;
	
	@Override
	@RequestMapping("toVasTransferOrderSynListQuery")
	public String toVasTransferOrderSynListQuery(Model model) {  
		model.addAttribute("validStatus", ValidStatus.values());
		return "vas/vas_vasTransferOrderSyn_list";
	} 
	
	@Override
	public void exportCsv(VasTransferOrderSynForm input, HttpServletResponse response) {
		// TODO Auto-generated method stub
		
	}
 
	@Override
	@ResponseBody
	@RequestMapping("queryVasTransferOrderSynList")
	public BaseResponseDto<VasTransferOrderSynForm> queryVasCityList(Model model,
			VasTransferOrderSynForm queryForm) {   
		BaseQueryDto<VasTransferOrderSynDto> query = new BaseQueryDto<VasTransferOrderSynDto>(queryForm.getPagination(),queryForm);
		BaseResultDto<VasTransferOrderSynDto> baseResult = vasTransferClient.queryVasTransferOrderSynList(query);
		List<VasTransferOrderSynDto> results = baseResult.getResults(); 
		
		List<VasTransferOrderSynForm> forms = new ArrayList<VasTransferOrderSynForm>();
		try {
			for (VasTransferOrderSynDto vpt : results) {
				VasTransferOrderSynForm retForm = new VasTransferOrderSynForm();
				BeanUtils.copyProperties(retForm,vpt);
				retForm.setCreateTimeStr(getTimeStr(vpt.getCreateTime()));
				retForm.setUpdateTimeStr(getTimeStr(vpt.getUpdateTime())); 
				forms.add(retForm);
			}
		} catch (Exception e) {
			e.printStackTrace();
			logger.error("쳣"+e.getMessage(),e);
		}
		BaseResponseDto<VasTransferOrderSynForm> response = new BaseResponseDto<VasTransferOrderSynForm>();
		response.setResults(forms); 
		response.setPagination(baseResult.getPagination());
		return response;
	}

	public String getTimeStr(Date d) {
		if(d!=null)
			return DateUtils.formatCnHmDate(d);
		return "";
	}

	@Override
	@RequestMapping("toAddVasTransferOrderSyn")
	public String toAddVasTransferOrderSyn(Model model) {
		return "vas/add_vasTransferOrderSyn";
	}

	@Override
	@RequestMapping("insertVasTransferOrderSyn")
	@ResponseBody
	public Map<String, Object> insertVasTransferOrderSyn(Model model,
			VasTransferOrderSynForm queryForm, HttpServletRequest request,
			HttpServletResponse response) {
		VasTransferOrderSynDto VasTransferOrderSynDto = queryForm.getVasTransferOrderSynDto();
		VasTransferOrderSynDto.setCityStatus(ValidStatus.VALID);//ĬЧ
		BaseSingleResultDto<VasTransferOrderSynDto> result =  vasTransferClient.insertVasTransferOrderSyn(VasTransferOrderSynDto);
		Map<String, Object> retMap = new HashMap<String, Object>();
		retMap.put("flag", result.getStatus().name());
		
		Long id = result.getResult().getId();
		
		 //Ӳ־
		LogOperateInfoDto logOperateInfo = new LogOperateInfoDto();
		logOperateInfo.setOperSouce(OperSouce.VAS_TRANSFER_CITY);
		logOperateInfo.setSourceId(id);
		logOperateInfo.setOperType(OperType.VAS_TRANSFER_CITY_ADD);
		logOperateInfo.setOperDesc("Ӧ̶״̬ͬ");
		logOperateInfo.setOperTime(new Date());
		PermUser user = (PermUser)ServletUtil.getSession(request, response, Constant.SESSION_BACK_USER);
		if(null!=user){
			logOperateInfo.setOperAccount(user.getUserName());	
			logOperateInfo.setOperName(OperName.TRANSFER);
		}
		vasLogClient.insertVasOpLog(logOperateInfo);
		return retMap;
	}

	@Override
	@RequestMapping(value="toEditVasTransferOrderSyn/{cityId}",method=RequestMethod.GET)
	public String toEditVasTransferOrderSyn(Model model,@PathVariable Long cityId) {
		VasTransferOrderSynDto transferCity = vasTransferClient.queryVasTransferOrderSynById(cityId);
		model.addAttribute("vasTransferOrderSyn", transferCity); 
		model.addAttribute("validStatus", ValidStatus.values());
		return "vas/edit_vasTransferOrderSyn";
	}

	@Override
	@RequestMapping("editVasTransferOrderSyn")
	@ResponseBody
	public Map<String, Object> editVasTransferOrderSyn(Model model,
			VasTransferOrderSynForm VasTransferOrderSynForm,
			HttpServletRequest request, HttpServletResponse response) {
		String oldCityCode = (String)request.getAttribute("oldCityCode");
		Map<String, Object> retMap = new HashMap<String, Object>();
		VasTransferOrderSynDto VasTransferOrderSynDto = VasTransferOrderSynForm.getVasTransferOrderSynDto();
		BaseSingleResultDto<VasTransferOrderSynDto> result = vasTransferClient.editVasTransferOrderSyn(VasTransferOrderSynDto);
		retMap.put("flag", result.getStatus().name());

		// Ӳ־
		LogOperateInfoDto logOperateInfo = new LogOperateInfoDto();
		logOperateInfo.setOperSouce(OperSouce.VAS_TRANSFER_CITY);
		logOperateInfo.setSourceId(VasTransferOrderSynDto.getId());
		logOperateInfo.setOperType(OperType.VAS_TRANSFER_CITY_UPDATE);
		logOperateInfo.setOperDesc("༭Ӧ̶״̬ͬ");
		logOperateInfo.setOperTime(new Date());
		PermUser user = (PermUser) ServletUtil.getSession(request, response,
				Constant.SESSION_BACK_USER);
		if (null != user) {
			logOperateInfo.setOperAccount(user.getUserName());
			logOperateInfo.setOperName(OperName.TRANSFER);
		}
		vasLogClient.insertVasOpLog(logOperateInfo);

		return retMap;
	}
}
2017-05-26 15:03:43,251 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java ļ!
2017-05-26 15:03:43,251 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java ļɹ!
2017-05-26 15:03:43,252 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java дɹ!
2017-05-26 15:03:43,252 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynControllerImpl.java
2017-05-26 15:03:43,252 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java
2017-05-26 15:03:43,254 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.offline.web.form.vas;

import java.io.Serializable;

import com.lvmama.lvf.common.dto.Pagination;
import com.lvmama.lvf.common.form.Form;
import com.lvmama.lvtraffic.vas.common.dto.enums.ValidStatus;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;

public class VasTransferOrderSynForm extends VasTransferOrderSynDto implements Form,Serializable {
	private static final long serialVersionUID = 1L;

	private Pagination pagination = new Pagination();

	private String createTimeStr;
	private String updateTimeStr;   
	private VasTransferOrderSynDto vasTransferOrderSynDto = new VasTransferOrderSynDto();

	public Pagination getPagination() {
		return pagination;
	}

	public void setPagination(Pagination pagination) {
		this.pagination = pagination;
	}

	public VasTransferOrderSynDto getVasTransferOrderSynDto() {
		return vasTransferOrderSynDto;
	}

	public void setVasTransferOrderSynDto(VasTransferOrderSynDto vasTransferOrderSynDto) {
		this.vasTransferOrderSynDto = vasTransferOrderSynDto;
	}

	public void countRecords(int records) {
		pagination.countRecords(records);
	}

	public int getEndRow() {
		return pagination.getEndRow();
	}

	public int getPage() {
		return pagination.getPage();
	}

	public int getRecords() {
		return pagination.getRecords();
	}

	public int getRows() {
		return pagination.getRows();
	}

	public String getSidx() {
		return pagination.getSidx();
	}

	public String getSord() {
		return pagination.getSord();
	}

	public int getStartRow() {
		return pagination.getStartRow();
	}

	public int getTotal() {
		return pagination.getTotal();
	}

	public boolean isSearch() {
		return pagination.isSearch();
	}

	public void setPage(int page) {
		pagination.setPage(page);
	}

	public void setRecords(int records) {
		pagination.setRecords(records);
	}

	public void setRows(int rows) {
		pagination.setRows(rows);
	}

	public void setRowsByCustom(int customRows) {
		pagination.setRowsByCustom(customRows);
	}

	public void setSearch(boolean search) {
		pagination.setSearch(search);
	}

	public void setSidx(String sidx) {
		pagination.setSidx(sidx);
	}

	public void setSord(String sord) {
		pagination.setSord(sord);
	}

	public void setTotal(int total) {
		pagination.setTotal(total);
	} 
	
	public void setCreateTimeStr(String createTimeStr) {
		this.createTimeStr = createTimeStr;
	}

	public void setUpdateTimeStr(String updateTimeStr) {
		this.updateTimeStr = updateTimeStr;
	} 
 
	public String getCreateTimeStr() {
		return createTimeStr;
	}

	public String getUpdateTimeStr() {
		return updateTimeStr;
	} 
}
2017-05-26 15:03:43,254 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java ļ!
2017-05-26 15:03:43,255 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java ļɹ!
2017-05-26 15:03:43,255 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java дɹ!
2017-05-26 15:03:43,255 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynForm.java
2017-05-26 15:03:43,256 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java
2017-05-26 15:03:43,257 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.persistence.mapper;

import org.apache.ibatis.annotations.Param;

import com.lvmama.lvf.common.domain.DomainEntityBaseMapper;
import com.lvmama.lvf.common.domain.DomainEntityByNoMapper;
import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.Dto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import java.util.List;
public interface VasTransferOrderSynMapper	extends
		DomainEntityBaseMapper<VasTransferOrderSynDto, BaseQueryDto<? extends Dto>>,
		DomainEntityByNoMapper<VasTransferOrderSynDto> {
	 /**
	 * ҳѯ
	 * @param q
	 * @return
	 */
	public List<VasTransferOrderSynDto> queryNoPage(BaseQueryDto<VasTransferOrderSynDto> q);
}
2017-05-26 15:03:43,257 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java ļ!
2017-05-26 15:03:43,258 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java ļɹ!
2017-05-26 15:03:43,258 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java дɹ!
2017-05-26 15:03:43,258 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.java
2017-05-26 15:03:43,260 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml
2017-05-26 15:03:43,315 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lvmama.lvtraffic.vas.persistence.mapper.VasTransferOrderSynMapper"> 
     <resultMap id="BaseResultMap" type="com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto" >  
		<result column="id" property="id" jdbcType="VARCHAR" />
		<result column="supp_code" property="suppCode" jdbcType="VARCHAR" />
		<result column="order_id" property="orderId" jdbcType="VARCHAR" />
		<result column="order_status" property="orderStatus" jdbcType="VARCHAR" />
		<result column="console_status" property="consoleStatus" jdbcType="VARCHAR" />
		<result column="request_str" property="requestStr" jdbcType="VARCHAR" />
		<result column="request_time" property="requestTime" jdbcType="TIMESTAMP" />
		<result column="console_time" property="consoleTime" jdbcType="TIMESTAMP" />
	 </resultMap> 
	 
  <sql id="columns" >
		id,supp_code,order_id,order_status,console_status,request_str,request_time,console_time
   </sql> 
	
	<sql id="queryCondition">
		<trim prefix="WHERE" prefixOverrides="AND"> 
			<if test="condition != null">
				<if test="condition.id!=null and condition.id != ''">
					AND id = #{condition.id,jdbcType=VARCHAR}
				</if>
				<if test="condition.suppCode!=null and condition.suppCode != ''">
					AND supp_code = #{condition.suppCode,jdbcType=VARCHAR}
				</if>
				<if test="condition.orderId!=null and condition.orderId != ''">
					AND order_id = #{condition.orderId,jdbcType=VARCHAR}
				</if>
				<if test="condition.orderStatus!=null and condition.orderStatus != ''">
					AND order_status = #{condition.orderStatus,jdbcType=VARCHAR}
				</if>
				<if test="condition.consoleStatus!=null and condition.consoleStatus != ''">
					AND console_status = #{condition.consoleStatus,jdbcType=VARCHAR}
				</if>
				<if test="condition.requestStr!=null and condition.requestStr != ''">
					AND request_str = #{condition.requestStr,jdbcType=VARCHAR}
				</if>
				<if test="condition.requestTime!=null and condition.requestTime != ''">
					AND request_time = #{condition.requestTime,jdbcType=TIMESTAMP}
				</if>
				<if test="condition.consoleTime!=null and condition.consoleTime != ''">
					AND console_time = #{condition.consoleTime,jdbcType=TIMESTAMP}
				</if>
			</if>
		</trim>
	</sql>
	  
	<select id="get" resultMap="BaseResultMap">
		SELECT 
			<include refid="columns"/>
		FROM t_vas_transferorder_syn a 
		WHERE a.id = #{id}
	</select>
	
	<select id="query"  resultMap="BaseResultMap">
		select distinct * from  (SELECT 
			<include refid="columns"/>
		FROM t_vas_transferorder_syn a 
		<include refid="queryCondition"/>) t
		<include refid="MYSQL.pagination" />
	</select>
	
	<select id="queryNoPage"  resultMap="BaseResultMap">
		SELECT 
			<include refid="columns"/>
		FROM t_vas_transferorder_syn a 
		<include refid="queryCondition"/>
	</select>
	
	<select id="count" resultType="java.lang.Integer">
		SELECT COUNT(1) from 		
		(select distinct (a.id)  from t_vas_transferorder_syn a 
		<include refid="queryCondition"/>) t
	</select>
	
	<insert id="insert">
		INSERT INTO t_vas_transferorder_syn(
			id, 
			supp_code, 
			order_id, 
			order_status, 
			console_status, 
			request_str, 
			request_time, 
			console_time
		) VALUES (
			#{id}, 
			#{suppCode}, 
			#{orderId}, 
			#{orderStatus}, 
			#{consoleStatus}, 
			#{requestStr}, 
			#{requestTime}, 
			#{consoleTime}
		)
	</insert>
	
	<select id="getById" resultMap="BaseResultMap" parameterType="java.lang.Long">
		SELECT 
			<include refid="columns"/>
		FROM t_vas_transferorder_syn a 
		WHERE id = #{id}
	</select>  
	
	<update id="updateById">
		UPDATE t_vas_transferorder_syn  
		<set> 	
			<if test="i.id!=null">
				id = #{i.id,jdbcType=VARCHAR},
			</if>
			<if test="i.suppCode!=null">
				supp_code = #{i.suppCode,jdbcType=VARCHAR},
			</if>
			<if test="i.orderId!=null">
				order_id = #{i.orderId,jdbcType=VARCHAR},
			</if>
			<if test="i.orderStatus!=null">
				order_status = #{i.orderStatus,jdbcType=VARCHAR},
			</if>
			<if test="i.consoleStatus!=null">
				console_status = #{i.consoleStatus,jdbcType=VARCHAR},
			</if>
			<if test="i.requestStr!=null">
				request_str = #{i.requestStr,jdbcType=VARCHAR},
			</if>
			<if test="i.requestTime!=null">
				request_time = #{i.requestTime,jdbcType=TIMESTAMP},
			</if>
			<if test="i.consoleTime!=null">
				console_time = #{i.consoleTime,jdbcType=TIMESTAMP}
			</if>
		</set> 	
		WHERE id = #{id}
	</update>
	
	<update id="delete">
		DELETE FROM t_vas_transferorder_syn
		WHERE id = #{id}
	</update>
	
</mapper>
2017-05-26 15:03:43,315 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml ļ!
2017-05-26 15:03:43,316 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml ļɹ!
2017-05-26 15:03:43,316 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml дɹ!
2017-05-26 15:03:43,316 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynMapper.xml
2017-05-26 15:03:43,317 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java
2017-05-26 15:03:43,321 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.service;

import java.util.List;

import javax.ws.rs.Consumes;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvf.common.dto.Pagination;
import com.lvmama.lvtraffic.vas.business.service.VasTransferOrderSynService;
import com.lvmama.lvtraffic.vas.common.client.path.VasTransferOrderSynBusinessClientPath;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynVehicleDto;

@Component
@Path("")
public class VasTransferOrderSynResource{
	
	private static final Logger logger = LoggerFactory.getLogger(VasTransferOrderSynResource.class);
	
	@Autowired
	private  VasTransferOrderSynService vasTransferOrderSynService;
	
	/**
	 * 
	 * @Description: idùӦ̶״̬ͬ
	 * @param request
	 * @return Response 
	 * @throws
	 */
	@POST
	@Produces(MediaType.APPLICATION_JSON)
	@Consumes(MediaType.APPLICATION_JSON)
	@Path(VasTransferOrderSynBusinessClientPath.Path.QUERY_VASTRANSFERORDERSYN_BY_ID)
	public Response queryVasTransferOrderSynById(Long cityId){ 
		try {
			VasTransferOrderSynDto vasTransferOrderSynDto = vasTransferOrderSynService.queryVasTransferOrderSynById(cityId);
			return Response.ok(vasTransferOrderSynDto).build();
		} catch (Exception e) {
			e.printStackTrace();
			return Response.noContent().build();
		}
	}  
	
	@POST
	@GET
	@Produces(MediaType.APPLICATION_JSON)
	@Consumes(MediaType.APPLICATION_JSON)
	@Path(VasTransferOrderSynBusinessClientPath.Path.QUERY_VASTRANSFERORDERSYN_LIST)
	public Response queryVasTransferOrderSynList(BaseQueryDto<VasTransferOrderSynDto> request){
		try { 
			BaseResultDto<VasTransferOrderSynDto> baseResult = new BaseResultDto<VasTransferOrderSynDto>(); 
			List<VasTransferOrderSynDto> data = vasTransferOrderSynService.queryVasTransferOrderSyns(request);
			int count = vasTransferOrderSynService.queryVasTransferOrderSynCount(request);
			Pagination pagination = request.getPagination();
			pagination.setRecords(count);
			pagination.countRecords(count); 
			
			baseResult.setResults(data);
			baseResult.setPagination(pagination);
			return Response.ok(baseResult).build();
		} catch (Exception e) {
			logger.error(e.getMessage(),e);
			return Response.noContent().build();
		}
	}
	
	@POST
	@Produces(MediaType.APPLICATION_JSON)
	@Consumes(MediaType.APPLICATION_JSON)
	@Path(VasTransferOrderSynBusinessClientPath.Path.INSERT_VASTRANSFERORDERSYN)
	public Response insertVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto){ 
		try{ 
			BaseSingleResultDto<VasTransferOrderSynDto> result = new BaseSingleResultDto<VasTransferOrderSynDto>();		
			
			result = vasTransferOrderSynService.insertVasTransferOrderSyn(vasTransferOrderSynDto);
			
			return Response.ok(result).build();
		}catch (Exception e) {
			
			e.printStackTrace();
			return Response.noContent().build();
		}
	}
	
	@POST
	@Produces(MediaType.APPLICATION_JSON)
	@Consumes(MediaType.APPLICATION_JSON)
	@Path(VasTransferOrderSynBusinessClientPath.Path.EDIT_VASTRANSFERORDERSYN)
	public Response editVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto){ 
		try{ 
			BaseSingleResultDto<VasTransferOrderSynDto> result = new BaseSingleResultDto<VasTransferOrderSynDto>();		
			
			result = vasTransferOrderSynService.updateVasTransferOrderSyn(vasTransferOrderSynDto);
			
			return Response.ok(result).build();
		}catch (Exception e) {
			
			e.printStackTrace();
			return Response.noContent().build();
		}
	}
}
2017-05-26 15:03:43,321 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java ļ!
2017-05-26 15:03:43,322 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java ļɹ!
2017-05-26 15:03:43,323 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java дɹ!
2017-05-26 15:03:43,323 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynResource.java
2017-05-26 15:03:43,323 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java
2017-05-26 15:03:43,325 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.business.service;

import java.util.List;

import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvtraffic.vas.common.dto.request.transfer.VasTransferOrderSynSearchRequest;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynProductDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynVehicleDto;

/**
 * Ӧ̶״̬ͬ
* @author Administrator
* @date 
*/
public interface VasTransferOrderSynService {   
	/**
	 * ѯӦ̶״̬ͬ.
	 * @param queryCondition
	 * @return
	 */
	List<VasTransferOrderSynDto> queryVasTransferOrderSyns(BaseQueryDto<VasTransferOrderSynDto> queryCondition);
	
	/**
	 * ѯӦ̶״̬ͬ.
	 * @param queryCondition
	 * @return
	 */
	VasTransferOrderSynDto queryVasTransferOrderSynById(Long id);
	
	/**
	 * ѯӦ̶״̬ͬ
	 * @param queryCondition
	 * @return
	 */
	int queryVasTransferOrderSynCount(BaseQueryDto<VasTransferOrderSynDto> queryCondition);
	
	/**
	 * Ӧ̶״̬ͬ
	 * @param vasTransferOrderSynDto
	 * @return
	 */
	public BaseSingleResultDto<VasTransferOrderSynDto> insertVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto);
	
	/**
	 * ޸ĹӦ̶״̬ͬ.
	 * @param vasTransferOrderSynDto
	 * @return
	 */
	public BaseSingleResultDto<VasTransferOrderSynDto> updateVasTransferOrderSyn(VasTransferOrderSynDto vasTransferOrderSynDto);  
}
2017-05-26 15:03:43,325 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java ļ!
2017-05-26 15:03:43,326 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java ļɹ!
2017-05-26 15:03:43,326 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java дɹ!
2017-05-26 15:03:43,326 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java
2017-05-26 15:03:43,327 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl
2017-05-26 15:03:43,336 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
     <link rel="stylesheet" href="${request.contextPath}/css/trip-list.css">
    <link rel="stylesheet" href="${request.contextPath}/css/order-details.css" type="text/css"/>
	<link type="text/css" rel="stylesheet" href="${request.contextPath}/js/resources/jquery-ui-1.8.11/css/redmond/jquery-ui-1.8.11.css"/>
	<link type="text/css" rel="stylesheet" href="${request.contextPath}/js/resources/jqGrid/css/ui.jqgrid.css"/>
	<script src="${request.contextPath}/js/resources/jqGrid/js/jquery-1.7.2.min.js"> </script>
	<script src="${request.contextPath}/js/resources/jquery-ui-1.8.10.custom.min.js"></script>
	<script src="${request.contextPath}/js/resources/jqGrid/src/i18n/grid.locale-cn.js"></script>
	<script src="${request.contextPath}/js/resources/jqGrid/js/jquery.jqGrid.src.js"></script>
	<script type="text/javascript" src="${request.contextPath}/js/My97DatePicker/WdatePicker.js"></script>

  	<style>
        span{
            width: 15%;
        }
    </style>
</head>
<body>
<div class="content content1">
    <div class="breadnav"><span>ֵ</span>>Ӧ̶״̬ͬ</div>
    <form id="myForm" autocomplete="off" >
        <div class="infor1">
            <div class="product message">
                <div class="main">

                    <div class="part">
                                      
                    </div>

                </div>
            </div>
        </div>

        <div class="click">
            <a href="javascript:;"><div class="button" onclick="query()">ѯ</div></a>
            <a href="javascript:;"><div class="button" onclick="add()"></div></a> 
        </div>

    </form>

    <div class="content1" style="margin-top:50px;">
        <table id="vasTransferOrderSynList"></table>
        <div id="pager"></div>
    </div>

	<div id="jsContainer" class="jsContainer" style="height: 0">
		<div id="tuna_alert"
			style="display: none; position: absolute; z-index: 999; overflow: hidden;"></div>
		<div id="tuna_jmpinfo"
			style="visibility: hidden; position: absolute; z-index: 120;"></div>
	</div>                 
	
		
	<div id="addLayer" class="content content1" style="display:none; width: 400px; height: 380px;">
		<table width="100%" style="margin-top: 5px;">
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>ˮţ</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addId" name="addId"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>Ӧcode</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addSuppCode" name="addSuppCode"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>Ӧ̶id</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addOrderId" name="addOrderId"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>״̬</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addOrderStatus" name="addOrderStatus"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>״̬</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addConsoleStatus" name="addConsoleStatus"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>json</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addRequestStr" name="addRequestStr"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>ʱ䣺</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addRequestTime" name="addRequestTime"/>
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style=" color:red">*</font>console_time</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="addConsoleTime" name="addConsoleTime"/>
				</td>
			</tr>
		</table>
		<div class="click" style="margin:0px 240px;margin-top: 20px;">
			<a href="javascript:void(0);" id="bt_add_vasTransferOrderSyn"><div class="button" id="div2310"></div></a>
		</div>
	</div>

	<div id="editLayer" class="content content1" style="display:none; width: 400px; height: 380px;">
		<table width="100%" style="margin-top: 5px;">
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>ˮţ</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editId" name="editId" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>Ӧcode</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editSuppCode" name="editSuppCode" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>Ӧ̶id</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editOrderId" name="editOrderId" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>״̬</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editOrderStatus" name="editOrderStatus" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>״̬</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editConsoleStatus" name="editConsoleStatus" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>json</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editRequestStr" name="editRequestStr" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>ʱ䣺</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editRequestTime" name="editRequestTime" />
				</td>
			</tr>
			<tr height="30">
				<td align="left" width="120"><font style="color:red">*</font>console_time</td>
				<td colspan="3">
					<input type="text" style="width: 80%" id="editConsoleTime" name="editConsoleTime" />
				</td>
			</tr>
		</table>
		<div class="click" style="margin:0px 240px;margin-top: 20px;">
			<a href="javascript:void(0);" id="bt_edit_vasTransferOrderSyn"><div class="button" id="div2311"></div></a>
		</div>
	</div> 
</div>
</body>
<script type="text/javascript"> 
    $(function (){ 
        initGrid(); 
		
		$("#bt_edit_vasTransferOrderSyn").on("click",function(){ 
			var idVal = $("#editId").val();
			var suppCodeVal = $("#editSuppCode").val();
			var orderIdVal = $("#editOrderId").val();
			var orderStatusVal = $("#editOrderStatus").val();
			var consoleStatusVal = $("#editConsoleStatus").val();
			var requestStrVal = $("#editRequestStr").val();
			var requestTimeVal = $("#editRequestTime").val();
			var consoleTimeVal = $("#editConsoleTime").val();
			
			/*
            if(cityNameVal == ''){
				alert("Ʋܿ");
				return false;
			} */
            $.ajax({
                url : '${request.contextPath}/vasTransferOrderSyn/editVasTransferOrderSyn',
                type : 'POST',
                data : {
	                "vasTransferOrderSynDto.id" : idVal, 
	                	                "vasTransferOrderSynDto.suppCode" : suppCodeVal, 
	                	                "vasTransferOrderSynDto.orderId" : orderIdVal, 
	                	                "vasTransferOrderSynDto.orderStatus" : orderStatusVal, 
	                	                "vasTransferOrderSynDto.consoleStatus" : consoleStatusVal, 
	                	                "vasTransferOrderSynDto.requestStr" : requestStrVal, 
	                	                "vasTransferOrderSynDto.requestTime" : requestTimeVal, 
	                	                "vasTransferOrderSynDto.consoleTime" : consoleTimeVal   
                },
                success : function(data){ 
                    if(data.flag == 'SUCCESS'){
                        alert("޸ĳɹ");
						$("#editLayer").dialog('close')  ;				
						query();
                    }else{
                        alert("޸ʧ");
                    }
                }
            });
        });
		
		 $("#bt_add_vasTransferOrderSyn").on("click",function(){  
			var idVal = $("#addId").val();
			var suppCodeVal = $("#addSuppCode").val();
			var orderIdVal = $("#addOrderId").val();
			var orderStatusVal = $("#addOrderStatus").val();
			var consoleStatusVal = $("#addConsoleStatus").val();
			var requestStrVal = $("#addRequestStr").val();
			var requestTimeVal = $("#addRequestTime").val();
			var consoleTimeVal = $("#addConsoleTime").val();
			/*
            if(cityNameV == ''){
				alert("Ʋܿ");
				return false;
			} */
			
            $.ajax({
                url : '${request.contextPath}/vasTransferOrderSyn/insertVasTransferOrderSyn',
                type : 'POST',
                data : {
	                "vasTransferOrderSynDto.id" : idVal, 
	                	                "vasTransferOrderSynDto.suppCode" : suppCodeVal, 
	                	                "vasTransferOrderSynDto.orderId" : orderIdVal, 
	                	                "vasTransferOrderSynDto.orderStatus" : orderStatusVal, 
	                	                "vasTransferOrderSynDto.consoleStatus" : consoleStatusVal, 
	                	                "vasTransferOrderSynDto.requestStr" : requestStrVal, 
	                	                "vasTransferOrderSynDto.requestTime" : requestTimeVal, 
	                	                "vasTransferOrderSynDto.consoleTime" : consoleTimeVal   
                },
                success : function(data){ 
                    if(data.flag == 'SUCCESS'){
                        alert("ɹ"); 
						$("#addLayer").dialog('close')  ;	
						query(); 
                    }else{
                        alert("ʧ");
                    }
                }
            });
        });
    });

    //ղѯϢ
    function reset() {
        document.getElementById("myForm").reset();
    } 
	
    //ѯбϢ
    function query() { 
        $("#vasTransferOrderSynList").jqGrid('setGridParam', {
            url : "${request.contextPath}/vasTransferOrderSyn/queryVasTransferOrderSynList",
            datatype : "json",
            mtype : "POST",
            postData : getQueryParams()
        }).trigger("reloadGrid");
    }
 
	
	//޸
	function edit(trNode) {  
		$("#editId").val($(trNode).children().eq(1).text());
		$("#editSuppCode").val($(trNode).children().eq(2).text());
		$("#editOrderId").val($(trNode).children().eq(3).text());
		$("#editOrderStatus").val($(trNode).children().eq(4).text());
		$("#editConsoleStatus").val($(trNode).children().eq(5).text());
		$("#editRequestStr").val($(trNode).children().eq(6).text());
		$("#editRequestTime").val($(trNode).children().eq(7).text());
		$("#editConsoleTime").val($(trNode).children().eq(8).text());
		
		$('#editLayer').dialog({
				title:'޸',
				width:600,
				height:400,
				modal:'true'
			});
	} 
	
	function add(){ 
		 $('#addLayer input').val('');
		 $('#addLayer').dialog({
			title:'',
			width:600,
			height:400,
			modal:'true'
		});
	}
  

   function getQueryParams() {  
    } 
		
    function initGrid() {
        $("#vasTransferOrderSynList").jqGrid({
            url : "${request.contextPath}/vasTransferOrderSyn/queryVasTransferOrderSynList",
            datatype : "json",
            mtype : "POST",
            colNames : ['ˮ','Ӧcode','Ӧ̶id','״̬','״̬','json','ʱ','console_time',,''],
            colModel : [{
                name : 'id',//ˮ
                index : 'id',
                align : 'center', 
                sortable:false
            },{
                name : 'suppCode',//Ӧcode
                index : 'suppCode',
                align : 'center', 
                sortable:false
            },{
                name : 'orderId',//Ӧ̶id
                index : 'orderId',
                align : 'center', 
                sortable:false
            },{
                name : 'orderStatus',//״̬
                index : 'orderStatus',
                align : 'center', 
                sortable:false
            },{
                name : 'consoleStatus',//״̬
                index : 'consoleStatus',
                align : 'center', 
                sortable:false
            },{
                name : 'requestStr',//json
                index : 'requestStr',
                align : 'center', 
                sortable:false
            },{
                name : 'requestTime',//ʱ
                index : 'requestTime',
                align : 'center', 
                sortable:false
            },{
                name : 'consoleTime',//console_time
                index : 'consoleTime',
                align : 'center', 
                sortable:false
            },{
                name : 'operate',
                index : 'operate',
                align : 'center',
                sortable:false
            }],
            rowNum: 10,            //ÿҳʾ¼
            autowidth: true,      //Զƥ
            pager: '#pager',      //ݹķҳhtmlԪ
            rowList:[10,20,50,500],   //ҳѡѡÿҳʾ¼
            viewrecords: true,    //ʾܼ¼
            height:'auto',//߶ȣ߶ȡΪֵٷֱȻ'auto' 
            gridview:true,        //ʾ
            viewrecords: true,    //ʾܼ¼
            multiselect : true,
            sortable:true,        //
            sortname: 'createTime',  //ֶ
            sortorder: "desc",    //ʽ
            caption : 'Ӧ̶״̬ͬб',
            jsonReader : {
                root : "results",                
                page : "pagination.page",       
                records : "pagination.records",  
                total:'pagination.total',        
                repeatitems : false            
            },
            onPaging : function(pgButton) {
                $("#vasTransferOrderSynList").jqGrid('setGridParam', {
                    postData : getQueryParams()
                });
            },
            postData : getQueryParams(),
            gridComplete:function(){  
                var ids=jQuery("#vasTransferOrderSynList").jqGrid('getDataIDs');
                for(var i=0; i<ids.length; i++){
                    var id=ids[i];
                    var rowData = $('#vasTransferOrderSynList').jqGrid('getRowData',id);
					var operateClick = '<a href="javascript:;" style="color:blue" onclick="edit(this.parentNode.parentNode)" >޸</a> ';
                    jQuery("#vasTransferOrderSynList").jqGrid('setRowData', id , {operate:operateClick});
                }
            }
        });
    } 
     
    </script> 
</html>
2017-05-26 15:03:43,338 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl ļ!
2017-05-26 15:03:43,339 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl ļɹ!
2017-05-26 15:03:43,340 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl дɹ!
2017-05-26 15:03:43,340 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSyn_list.ftl
2017-05-26 15:03:43,340 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java
2017-05-26 15:03:43,343 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.business.service.impl;

import java.util.Date;
import java.util.List;

import org.apache.commons.lang.StringUtils;
import org.apache.log4j.Logger;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.lvmama.lvf.common.dto.BaseQueryDto;
import com.lvmama.lvf.common.dto.BaseResultDto;
import com.lvmama.lvf.common.dto.BaseSingleResultDto;
import com.lvmama.lvf.common.dto.status.ResultStatus;
import com.lvmama.lvtraffic.vas.business.service.VasTransferOrderSynService;
import com.lvmama.lvtraffic.vas.common.dto.enums.ValidStatus;
import com.lvmama.lvtraffic.vas.common.dto.request.transfer.VasTransferOrderSynSearchRequest;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynProductDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynVehicleDto;
import com.lvmama.lvtraffic.vas.persistence.mapper.VasTransferOrderSynMapper; 

/**
 * Ӧ̶״̬ͬʵ.
 * @author Administrator
 *
 */
@Service
public class VasTransferOrderSynServiceImpl implements VasTransferOrderSynService {
	public static Logger logger = Logger.getLogger(VasTransferOrderSynServiceImpl.class);

	@Autowired
	private VasTransferOrderSynMapper vasTransferOrderSynMapper; 
	 
	@Override
	public List<VasTransferOrderSynDto> queryVasTransferOrderSyns(
			BaseQueryDto<VasTransferOrderSynDto> q) { 
		List<VasTransferOrderSynDto> vasOrderInfoDtoList = vasTransferOrderSynMapper.query(q); 
		return vasOrderInfoDtoList;
	}

	@Override
	public int queryVasTransferOrderSynCount(BaseQueryDto<VasTransferOrderSynDto> q) {
		return vasTransferOrderSynMapper.count(q); 
	}

	@Override
	public VasTransferOrderSynDto queryVasTransferOrderSynById(Long id) { 
		return vasTransferOrderSynMapper.getById(id);
	}  
	
	@Override
	public BaseSingleResultDto<VasTransferOrderSynDto> insertVasTransferOrderSyn(
			VasTransferOrderSynDto vasTransferOrderSynDto) {
		BaseSingleResultDto<VasTransferOrderSynDto> result = new BaseSingleResultDto<VasTransferOrderSynDto>();
		int  record = vasTransferOrderSynMapper.insert(vasTransferOrderSynDto);
		
		result.setResult(vasTransferOrderSynDto);
		if(record == 0){ 
			result.setErrorMessage("Ӧ̶״̬ͬʧ");
			return result;
		} 
		return result;
	}

	@Override
	public BaseSingleResultDto<VasTransferOrderSynDto> updateVasTransferOrderSyn(
			VasTransferOrderSynDto vasTransferOrderSynDto) {
		BaseSingleResultDto<VasTransferOrderSynDto> result = new BaseSingleResultDto<VasTransferOrderSynDto>();
		try{
			vasTransferOrderSynMapper.updateById(vasTransferOrderSynDto.getId(), vasTransferOrderSynDto);
		}catch(Exception e){ 
			logger.error(e.getMessage(),e); 
			result.setErrorMessage("Ӧ̶״̬ͬʧ:"+e.getMessage());
			return result; 
		}  
		result.setResult(vasTransferOrderSynDto); 
		return result;
	} 
}
2017-05-26 15:03:43,343 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java ļ!
2017-05-26 15:03:43,343 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java ļɹ!
2017-05-26 15:03:43,344 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java дɹ!
2017-05-26 15:03:43,344 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynServiceImpl.java
2017-05-26 15:03:43,345 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  fileName === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java
2017-05-26 15:03:43,347 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  content === 
package com.lvmama.lvtraffic.vas.business.service;

import java.io.Serializable;
import java.math.BigDecimal;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import com.lvmama.lvf.common.dto.Entity;  
import com.lvmama.lvtraffic.vas.common.dto.request.transfer.VasTransferOrderSynSearchRequest;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynProductDto;
import com.lvmama.lvtraffic.vas.common.dto.transfer.VasTransferOrderSynVehicleDto;

/**
 * Ӧ̶״̬ͬϢ
* @author Administrator
* @date 
*/
public class VasTransferOrderSynDto extends VasTransferOrderSynDto extends Entity implements Serializable {
	private static final long serialVersionUID = 1L; 
 	//ˮ
 	private String id;
 	
 	public String getId(){
 		return this.id;
 	}
 	
 	public void setId(String id){
 		this.id = id;
 	} 
 	
 	//Ӧcode
 	private String suppCode;
 	
 	public String getSuppCode(){
 		return this.suppCode;
 	}
 	
 	public void setSuppCode(String suppCode){
 		this.suppCode = suppCode;
 	} 
 	
 	//Ӧ̶id
 	private String orderId;
 	
 	public String getOrderId(){
 		return this.orderId;
 	}
 	
 	public void setOrderId(String orderId){
 		this.orderId = orderId;
 	} 
 	
 	//״̬
 	private String orderStatus;
 	
 	public String getOrderStatus(){
 		return this.orderStatus;
 	}
 	
 	public void setOrderStatus(String orderStatus){
 		this.orderStatus = orderStatus;
 	} 
 	
 	//״̬
 	private String consoleStatus;
 	
 	public String getConsoleStatus(){
 		return this.consoleStatus;
 	}
 	
 	public void setConsoleStatus(String consoleStatus){
 		this.consoleStatus = consoleStatus;
 	} 
 	
 	//json
 	private String requestStr;
 	
 	public String getRequestStr(){
 		return this.requestStr;
 	}
 	
 	public void setRequestStr(String requestStr){
 		this.requestStr = requestStr;
 	} 
 	
 	//ʱ
 	private Date requestTime;
 	
 	public Date getRequestTime(){
 		return this.requestTime;
 	}
 	
 	public void setRequestTime(Date requestTime){
 		this.requestTime = requestTime;
 	} 
 	
 	//console_time
 	private Date consoleTime;
 	
 	public Date getConsoleTime(){
 		return this.consoleTime;
 	}
 	
 	public void setConsoleTime(Date consoleTime){
 		this.consoleTime = consoleTime;
 	} 
 	
}
2017-05-26 15:03:43,348 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ɾļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java ɹ!
2017-05-26 15:03:43,348 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java ļɹ!
2017-05-26 15:03:43,349 [main] DEBUG [com.thinkgem.jeesite.common.utils.FileUtils] - ļ E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java дɹ!
2017-05-26 15:03:43,349 [main] DEBUG [com.thinkgem.jeesite.modules.gen.util.GenUtils] -  file create === E:\github\jeesite_mybatis\jeesite\online\src\main\resources\mappings\lvtraffic\vas\transfer\VasTransferOrderSynService.java
2017-05-26 15:03:43,385 [Thread-2] DEBUG [com.thinkgem.jeesite.common.utils.SpringContextHolder] - SpringContextHolderеApplicationContext:org.springframework.context.support.GenericApplicationContext@67591ba4: startup date [Fri May 26 15:03:40 CST 2017]; root of context hierarchy
2017-05-26 15:04:48,638 [main] WARN  [net.sf.ehcache.store.disk.DiskStorageFactory] - The index for data file ..\temp\jeesite\ehcache\active%0053essions%0043ache.data is out of date, probably due to an unclean shutdown. Deleting index file ..\temp\jeesite\ehcache\active%0053essions%0043ache.index
2017-05-26 15:05:03,169 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.DictDao.findAllList] - ==>  Preparing: SELECT * FROM sys_dict WHERE del_flag = ? ORDER BY type, sort, update_date DESC 
2017-05-26 15:05:03,178 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.DictDao.findAllList] - ==> Parameters: 0(String)
2017-05-26 15:05:03,219 [http-8181-1] DEBUG [com.thinkgem.jeesite.modules.sys.dao.DictDao.findAllList] - <==      Total: 78
